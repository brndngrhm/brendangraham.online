<!DOCTYPE html>
<html lang="en" dir="ltr"><head>
  
                           
     


<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.92.0" />
<title>Trying out new Tidymodels package: vetiver | Brendan Graham</title>


<meta property="twitter:site" content="@brndngrhm">
<meta property="twitter:creator" content="@brndngrhm">







  
    
  
<meta name="description" content="">


<meta property="og:site_name" content="Brendan Graham">
<meta property="og:title" content="Trying out new Tidymodels package: vetiver | Brendan Graham">
<meta property="og:description" content="" />
<meta property="og:type" content="page" />
<meta property="og:url" content="https://brendangraham.online/blog/bees/" />
<meta property="og:locale" content="en">




    
        <meta property="og:image" content="https://brendangraham.online/blog/bees/featured.png" >
        <meta property="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="https://brendangraham.online/blog/bees/featured.png" >
    
    
  <meta itemprop="name" content="Trying out new Tidymodels package: vetiver">
<meta itemprop="description" content="This post looks at a 
TidyTuesday data set about changes in bee colonies After looking at the data I build and locally deploy a model api to predict the percentage of colonies lost"><meta itemprop="datePublished" content="2022-01-11T00:00:00+00:00" />
<meta itemprop="dateModified" content="2022-01-11T00:00:00+00:00" />
<meta itemprop="wordCount" content="1918"><meta itemprop="image" content="https://brendangraham.online/blog/bees/featured.png">
<meta itemprop="keywords" content="tidy tuesday,tidymodels,plumber,api,data science," />
  
  
  <!--[if IE]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="shortcut icon" href="" type="image/x-icon">
  <link rel="icon" href="" type="image/x-icon">
  
  
  <link rel="stylesheet" href="/style.main.min.a4afdcba1badb9429f7a064edf22d01439d58ac03cbdc528513a128259592485.css" integrity="sha256-pK/cuhutuUKfegZO3yLQFDnVisA8vcUoUToSgllZJIU=" media="screen">
  
  
  <script src="/panelset.min.078a92db9bd3228df502db3d9e0453c3cf3d910abe3f8deca0ad196c7071ad41.js" type="text/javascript"></script>
  
  
  <script src="/main.min.314f5cf7ee721b40ec32f2ffbeb2f317cae9f8e5e8c0e623e4f56970fb97755e.js" type="text/javascript"></script>
</head>
<body>
      <div class="grid-container">
<header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role="banner">
  <nav class="site-nav db dt-l w-100" role="navigation">
    <a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href="https://brendangraham.online" title="Home">
      <span class="f4 fw7">Brendan Graham</span>
    </a>
    <div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l ttu tracked">
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 active" href="/blog/" title="Data">Data</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/project/" title="Art">Art</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/talk/" title="Talks">Talks</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/docs/brendan_graham_resume.pdf" title="">Resume</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/contact/" title="Contact">Contact</a>
      
      
    </div>
  </nav>
</header>

<main class="page-main pa4" role="main">
  <section class="page-content mw7 center">
    <article class="post-content pa0 ph4-l">
      <header class="post-header">
        <h1 class="f1 lh-solid measure-narrow mb3 fw4">Trying out new Tidymodels package: vetiver</h1>
        
        <p class="f6 measure lh-copy mv1">By Brendan Graham in <a href="https://brendangraham.online/categories/tidy-tuesday">tidy tuesday</a>  <a href="https://brendangraham.online/categories/tidymodels">tidymodels</a>  <a href="https://brendangraham.online/categories/plumber">plumber</a>  <a href="https://brendangraham.online/categories/api">api</a>  <a href="https://brendangraham.online/categories/data-science">data science</a> </p>
        <p class="f7 db mv0 ttu">January 11, 2022</p>

      

      </header>
      <section class="post-body pt5 pb4">
        <script src="https://brendangraham.online/blog/bees/index_files/htmlwidgets/htmlwidgets.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/jquery/jquery.min.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/proj4js/proj4.js"></script>
<link href="https://brendangraham.online/blog/bees/index_files/highcharts/css/motion.css" rel="stylesheet" />
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/highcharts.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/highcharts-3d.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/highcharts-more.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/stock.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/map.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/annotations.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/data.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/drilldown.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/item-series.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/offline-exporting.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/overlapping-datalabels.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/exporting.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/export-data.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/funnel.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/heatmap.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/treemap.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/sankey.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/dependency-wheel.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/organization.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/solid-gauge.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/streamgraph.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/sunburst.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/vector.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/wordcloud.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/xrange.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/tilemap.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/venn.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/gantt.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/timeline.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/parallel-coordinates.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/bullet.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/coloraxis.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/dumbbell.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/lollipop.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/series-label.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/plugins/motion.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/custom/reset.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highcharts/modules/boost.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/highchart-binding/highchart.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/core-js/shim.min.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/react/react.min.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/react/react-dom.min.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/reactwidget/react-tools.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/htmlwidgets/htmlwidgets.js"></script>
<script src="https://brendangraham.online/blog/bees/index_files/reactable-binding/reactable.js"></script>




<h2 id="introduction">Introduction
  <a href="#introduction"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>The Jan 11, 2022 
<a href="https://github.com/rfordatascience/tidytuesday/tree/master/data/2022/2022-01-11#bee-colonies" target="_blank" rel="noopener">Tidy Tuesday dataset</a> provides an opportunity to try out the latest addition to the <code>tidymodels</code> ecosystem. The <code>vetiver</code> package is designed for easy model deployment &amp; versioning.</p>
<p>First we’ll read in the dataset and explore it, create and compare some models, select a and deploy a final model as a versioned API using <code>vetiver</code>. The goal of this post isn’t to create the best model possible, though the modelling concepts and steps used here are also used when developing a “real” ML model. Instead the focus of this post is around deploying a model as an API using the <code>vetiver</code> package.</p>




<h2 id="explore-the-data">Explore the data
  <a href="#explore-the-data"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>There are 2 datasets: colony and stressor; We will develop a model using stressors to predict colonies lost.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">colony 
</code></pre></div><pre><code>## # A tibble: 1,222 × 10
##     year months        state     colony_n colony_max colony_lost colony_lost_pct
##    &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;        &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;           &lt;dbl&gt;
##  1  2015 January-March Alabama       7000       7000        1800              26
##  2  2015 January-March Arizona      35000      35000        4600              13
##  3  2015 January-March Arkansas     13000      14000        1500              11
##  4  2015 January-March Californ…  1440000    1690000      255000              15
##  5  2015 January-March Colorado      3500      12500        1500              12
##  6  2015 January-March Connecti…     3900       3900         870              22
##  7  2015 January-March Florida     305000     315000       42000              13
##  8  2015 January-March Georgia     104000     105000       14500              14
##  9  2015 January-March Hawaii       10500      10500         380               4
## 10  2015 January-March Idaho        81000      88000        3700               4
## # … with 1,212 more rows, and 3 more variables: colony_added &lt;dbl&gt;,
## #   colony_reno &lt;dbl&gt;, colony_reno_pct &lt;dbl&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">stressor 
</code></pre></div><pre><code>## # A tibble: 7,332 × 5
##     year months        state   stressor              stress_pct
##    &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;   &lt;chr&gt;                      &lt;dbl&gt;
##  1  2015 January-March Alabama Varroa mites                10  
##  2  2015 January-March Alabama Other pests/parasites        5.4
##  3  2015 January-March Alabama Disesases                   NA  
##  4  2015 January-March Alabama Pesticides                   2.2
##  5  2015 January-March Alabama Other                        9.1
##  6  2015 January-March Alabama Unknown                      9.4
##  7  2015 January-March Arizona Varroa mites                26.9
##  8  2015 January-March Arizona Other pests/parasites       20.5
##  9  2015 January-March Arizona Disesases                    0.1
## 10  2015 January-March Arizona Pesticides                  NA  
## # … with 7,322 more rows
</code></pre>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">colony <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">filter</span>(state <span style="color:#555">!=</span> <span style="color:#c30">&#39;United States&#39;</span>) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">group_by</span>(year, state) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">summarise</span>(mean_loss <span style="color:#555">=</span> <span style="color:#c0f">mean</span>(colony_lost, na.rm <span style="color:#555">=</span> T),
            mean_pct_loss <span style="color:#555">=</span> <span style="color:#c0f">mean</span>(colony_lost_pct, na.rm <span style="color:#555">=</span> T)) <span style="color:#555">%&gt;%</span> 
  <span style="color:#c0f">hchart</span>(., <span style="color:#c30">&#34;heatmap&#34;</span>, <span style="color:#c0f">hcaes</span>(x <span style="color:#555">=</span> year, y <span style="color:#555">=</span> state, value <span style="color:#555">=</span> mean_pct_loss)) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">hc_title</span>(text <span style="color:#555">=</span> <span style="color:#c30">&#34;Percent of colony lost by state/year&#34;</span>, align <span style="color:#555">=</span> <span style="color:#c30">&#34;left&#34;</span>)
</code></pre></div><div id="htmlwidget-1" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Percent of colony lost by state/year","align":"left"},"yAxis":{"title":{"text":"state"},"type":"category","categories":["Alabama","Arizona","Arkansas","California","Colorado","Connecticut","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Other States","Pennsylvania","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"colorAxis":{"auxpar":null},"series":[{"group":"group","data":[{"year":2015,"state":"Alabama","mean_loss":1167.5,"mean_pct_loss":15.5,"x":2015,"y":0,"value":15.5,"yf":"Alabama"},{"year":2015,"state":"Arizona","mean_loss":7025,"mean_pct_loss":19,"x":2015,"y":1,"value":19,"yf":"Arizona"},{"year":2015,"state":"Arkansas","mean_loss":3700,"mean_pct_loss":16,"x":2015,"y":2,"value":16,"yf":"Arkansas"},{"year":2015,"state":"California","mean_loss":146000,"mean_pct_loss":11.75,"x":2015,"y":3,"value":11.75,"yf":"California"},{"year":2015,"state":"Colorado","mean_loss":2600,"mean_pct_loss":11.25,"x":2015,"y":4,"value":11.25,"yf":"Colorado"},{"year":2015,"state":"Connecticut","mean_loss":302.5,"mean_pct_loss":8.25,"x":2015,"y":5,"value":8.25,"yf":"Connecticut"},{"year":2015,"state":"Florida","mean_loss":37500,"mean_pct_loss":14.75,"x":2015,"y":6,"value":14.75,"yf":"Florida"},{"year":2015,"state":"Georgia","mean_loss":17125,"mean_pct_loss":15,"x":2015,"y":7,"value":15,"yf":"Georgia"},{"year":2015,"state":"Hawaii","mean_loss":972.5,"mean_pct_loss":7.25,"x":2015,"y":8,"value":7.25,"yf":"Hawaii"},{"year":2015,"state":"Idaho","mean_loss":11550,"mean_pct_loss":9.75,"x":2015,"y":9,"value":9.75,"yf":"Idaho"},{"year":2015,"state":"Illinois","mean_loss":1897.5,"mean_pct_loss":17.25,"x":2015,"y":10,"value":17.25,"yf":"Illinois"},{"year":2015,"state":"Indiana","mean_loss":1525,"mean_pct_loss":13.25,"x":2015,"y":11,"value":13.25,"yf":"Indiana"},{"year":2015,"state":"Iowa","mean_loss":2950,"mean_pct_loss":11,"x":2015,"y":12,"value":11,"yf":"Iowa"},{"year":2015,"state":"Kansas","mean_loss":1667.5,"mean_pct_loss":21,"x":2015,"y":13,"value":21,"yf":"Kansas"},{"year":2015,"state":"Kentucky","mean_loss":1870,"mean_pct_loss":19.25,"x":2015,"y":14,"value":19.25,"yf":"Kentucky"},{"year":2015,"state":"Louisiana","mean_loss":4175,"mean_pct_loss":7.75,"x":2015,"y":15,"value":7.75,"yf":"Louisiana"},{"year":2015,"state":"Maine","mean_loss":1022.5,"mean_pct_loss":6.5,"x":2015,"y":16,"value":6.5,"yf":"Maine"},{"year":2015,"state":"Maryland","mean_loss":1470,"mean_pct_loss":15.25,"x":2015,"y":17,"value":15.25,"yf":"Maryland"},{"year":2015,"state":"Massachusetts","mean_loss":535,"mean_pct_loss":9.5,"x":2015,"y":18,"value":9.5,"yf":"Massachusetts"},{"year":2015,"state":"Michigan","mean_loss":9250,"mean_pct_loss":12.5,"x":2015,"y":19,"value":12.5,"yf":"Michigan"},{"year":2015,"state":"Minnesota","mean_loss":14550,"mean_pct_loss":12.25,"x":2015,"y":20,"value":12.25,"yf":"Minnesota"},{"year":2015,"state":"Mississippi","mean_loss":6125,"mean_pct_loss":9.25,"x":2015,"y":21,"value":9.25,"yf":"Mississippi"},{"year":2015,"state":"Missouri","mean_loss":1097.5,"mean_pct_loss":8.25,"x":2015,"y":22,"value":8.25,"yf":"Missouri"},{"year":2015,"state":"Montana","mean_loss":6725,"mean_pct_loss":5.75,"x":2015,"y":23,"value":5.75,"yf":"Montana"},{"year":2015,"state":"Nebraska","mean_loss":4925,"mean_pct_loss":8,"x":2015,"y":24,"value":8,"yf":"Nebraska"},{"year":2015,"state":"New Jersey","mean_loss":845,"mean_pct_loss":6.5,"x":2015,"y":25,"value":6.5,"yf":"New Jersey"},{"year":2015,"state":"New Mexico","mean_loss":895,"mean_pct_loss":13,"x":2015,"y":26,"value":13,"yf":"New Mexico"},{"year":2015,"state":"New York","mean_loss":4525,"mean_pct_loss":12,"x":2015,"y":27,"value":12,"yf":"New York"},{"year":2015,"state":"North Carolina","mean_loss":3475,"mean_pct_loss":14.25,"x":2015,"y":28,"value":14.25,"yf":"North Carolina"},{"year":2015,"state":"North Dakota","mean_loss":39405,"mean_pct_loss":9.75,"x":2015,"y":29,"value":9.75,"yf":"North Dakota"},{"year":2015,"state":"Ohio","mean_loss":4225,"mean_pct_loss":20,"x":2015,"y":30,"value":20,"yf":"Ohio"},{"year":2015,"state":"Oklahoma","mean_loss":2270,"mean_pct_loss":9.75,"x":2015,"y":31,"value":9.75,"yf":"Oklahoma"},{"year":2015,"state":"Oregon","mean_loss":7250,"mean_pct_loss":7.75,"x":2015,"y":32,"value":7.75,"yf":"Oregon"},{"year":2015,"state":"Other States","mean_loss":1637.5,"mean_pct_loss":15,"x":2015,"y":33,"value":15,"yf":"Other States"},{"year":2015,"state":"Pennsylvania","mean_loss":3100,"mean_pct_loss":14.25,"x":2015,"y":34,"value":14.25,"yf":"Pennsylvania"},{"year":2015,"state":"South Carolina","mean_loss":1962.5,"mean_pct_loss":12.5,"x":2015,"y":35,"value":12.5,"yf":"South Carolina"},{"year":2015,"state":"South Dakota","mean_loss":21900,"mean_pct_loss":8.5,"x":2015,"y":36,"value":8.5,"yf":"South Dakota"},{"year":2015,"state":"Tennessee","mean_loss":1257.5,"mean_pct_loss":13.5,"x":2015,"y":37,"value":13.5,"yf":"Tennessee"},{"year":2015,"state":"Texas","mean_loss":25125,"mean_pct_loss":10.75,"x":2015,"y":38,"value":10.75,"yf":"Texas"},{"year":2015,"state":"Utah","mean_loss":4150,"mean_pct_loss":14,"x":2015,"y":39,"value":14,"yf":"Utah"},{"year":2015,"state":"Vermont","mean_loss":445,"mean_pct_loss":7.75,"x":2015,"y":40,"value":7.75,"yf":"Vermont"},{"year":2015,"state":"Virginia","mean_loss":1050,"mean_pct_loss":12.75,"x":2015,"y":41,"value":12.75,"yf":"Virginia"},{"year":2015,"state":"Washington","mean_loss":9250,"mean_pct_loss":9,"x":2015,"y":42,"value":9,"yf":"Washington"},{"year":2015,"state":"West Virginia","mean_loss":820,"mean_pct_loss":13.75,"x":2015,"y":43,"value":13.75,"yf":"West Virginia"},{"year":2015,"state":"Wisconsin","mean_loss":7025,"mean_pct_loss":16,"x":2015,"y":44,"value":16,"yf":"Wisconsin"},{"year":2015,"state":"Wyoming","mean_loss":2250,"mean_pct_loss":10.5,"x":2015,"y":45,"value":10.5,"yf":"Wyoming"},{"year":2016,"state":"Alabama","mean_loss":1110,"mean_pct_loss":14.75,"x":2016,"y":0,"value":14.75,"yf":"Alabama"},{"year":2016,"state":"Arizona","mean_loss":5225,"mean_pct_loss":18,"x":2016,"y":1,"value":18,"yf":"Arizona"},{"year":2016,"state":"Arkansas","mean_loss":3100,"mean_pct_loss":11.75,"x":2016,"y":2,"value":11.75,"yf":"Arkansas"},{"year":2016,"state":"California","mean_loss":151250,"mean_pct_loss":12.25,"x":2016,"y":3,"value":12.25,"yf":"California"},{"year":2016,"state":"Colorado","mean_loss":3342.5,"mean_pct_loss":11.75,"x":2016,"y":4,"value":11.75,"yf":"Colorado"},{"year":2016,"state":"Connecticut","mean_loss":220,"mean_pct_loss":7.75,"x":2016,"y":5,"value":7.75,"yf":"Connecticut"},{"year":2016,"state":"Florida","mean_loss":35000,"mean_pct_loss":13.5,"x":2016,"y":6,"value":13.5,"yf":"Florida"},{"year":2016,"state":"Georgia","mean_loss":13750,"mean_pct_loss":13.25,"x":2016,"y":7,"value":13.25,"yf":"Georgia"},{"year":2016,"state":"Hawaii","mean_loss":670,"mean_pct_loss":4.75,"x":2016,"y":8,"value":4.75,"yf":"Hawaii"},{"year":2016,"state":"Idaho","mean_loss":10250,"mean_pct_loss":9,"x":2016,"y":9,"value":9,"yf":"Idaho"},{"year":2016,"state":"Illinois","mean_loss":1015,"mean_pct_loss":11.25,"x":2016,"y":10,"value":11.25,"yf":"Illinois"},{"year":2016,"state":"Indiana","mean_loss":697.5,"mean_pct_loss":9.25,"x":2016,"y":11,"value":9.25,"yf":"Indiana"},{"year":2016,"state":"Iowa","mean_loss":3950,"mean_pct_loss":12,"x":2016,"y":12,"value":12,"yf":"Iowa"},{"year":2016,"state":"Kansas","mean_loss":1460,"mean_pct_loss":24,"x":2016,"y":13,"value":24,"yf":"Kansas"},{"year":2016,"state":"Kentucky","mean_loss":925,"mean_pct_loss":13.25,"x":2016,"y":14,"value":13.25,"yf":"Kentucky"},{"year":2016,"state":"Louisiana","mean_loss":5700,"mean_pct_loss":9.5,"x":2016,"y":15,"value":9.5,"yf":"Louisiana"},{"year":2016,"state":"Maine","mean_loss":1267.5,"mean_pct_loss":9.5,"x":2016,"y":16,"value":9.5,"yf":"Maine"},{"year":2016,"state":"Maryland","mean_loss":605,"mean_pct_loss":8.5,"x":2016,"y":17,"value":8.5,"yf":"Maryland"},{"year":2016,"state":"Massachusetts","mean_loss":485,"mean_pct_loss":7.75,"x":2016,"y":18,"value":7.75,"yf":"Massachusetts"},{"year":2016,"state":"Michigan","mean_loss":10000,"mean_pct_loss":11.75,"x":2016,"y":19,"value":11.75,"yf":"Michigan"},{"year":2016,"state":"Minnesota","mean_loss":14625,"mean_pct_loss":14,"x":2016,"y":20,"value":14,"yf":"Minnesota"},{"year":2016,"state":"Mississippi","mean_loss":3975,"mean_pct_loss":9.25,"x":2016,"y":21,"value":9.25,"yf":"Mississippi"},{"year":2016,"state":"Missouri","mean_loss":802.5,"mean_pct_loss":7,"x":2016,"y":22,"value":7,"yf":"Missouri"},{"year":2016,"state":"Montana","mean_loss":8835,"mean_pct_loss":6.5,"x":2016,"y":23,"value":6.5,"yf":"Montana"},{"year":2016,"state":"Nebraska","mean_loss":4782.5,"mean_pct_loss":11.5,"x":2016,"y":24,"value":11.5,"yf":"Nebraska"},{"year":2016,"state":"New Jersey","mean_loss":777.5,"mean_pct_loss":6.25,"x":2016,"y":25,"value":6.25,"yf":"New Jersey"},{"year":2016,"state":"New Mexico","mean_loss":1450,"mean_pct_loss":22,"x":2016,"y":26,"value":22,"yf":"New Mexico"},{"year":2016,"state":"New York","mean_loss":6750,"mean_pct_loss":14.5,"x":2016,"y":27,"value":14.5,"yf":"New York"},{"year":2016,"state":"North Carolina","mean_loss":2750,"mean_pct_loss":11.25,"x":2016,"y":28,"value":11.25,"yf":"North Carolina"},{"year":2016,"state":"North Dakota","mean_loss":39750,"mean_pct_loss":9.75,"x":2016,"y":29,"value":9.75,"yf":"North Dakota"},{"year":2016,"state":"Ohio","mean_loss":2400,"mean_pct_loss":13.75,"x":2016,"y":30,"value":13.75,"yf":"Ohio"},{"year":2016,"state":"Oklahoma","mean_loss":1617.5,"mean_pct_loss":17.75,"x":2016,"y":31,"value":17.75,"yf":"Oklahoma"},{"year":2016,"state":"Oregon","mean_loss":6025,"mean_pct_loss":5.25,"x":2016,"y":32,"value":5.25,"yf":"Oregon"},{"year":2016,"state":"Other States","mean_loss":1117.5,"mean_pct_loss":10.75,"x":2016,"y":33,"value":10.75,"yf":"Other States"},{"year":2016,"state":"Pennsylvania","mean_loss":2150,"mean_pct_loss":13.25,"x":2016,"y":34,"value":13.25,"yf":"Pennsylvania"},{"year":2016,"state":"South Carolina","mean_loss":1730,"mean_pct_loss":11.5,"x":2016,"y":35,"value":11.5,"yf":"South Carolina"},{"year":2016,"state":"South Dakota","mean_loss":11942.5,"mean_pct_loss":7,"x":2016,"y":36,"value":7,"yf":"South Dakota"},{"year":2016,"state":"Tennessee","mean_loss":1017.5,"mean_pct_loss":11.25,"x":2016,"y":37,"value":11.25,"yf":"Tennessee"},{"year":2016,"state":"Texas","mean_loss":29000,"mean_pct_loss":10.25,"x":2016,"y":38,"value":10.25,"yf":"Texas"},{"year":2016,"state":"Utah","mean_loss":2825,"mean_pct_loss":12,"x":2016,"y":39,"value":12,"yf":"Utah"},{"year":2016,"state":"Vermont","mean_loss":272.5,"mean_pct_loss":6,"x":2016,"y":40,"value":6,"yf":"Vermont"},{"year":2016,"state":"Virginia","mean_loss":717.5,"mean_pct_loss":10.25,"x":2016,"y":41,"value":10.25,"yf":"Virginia"},{"year":2016,"state":"Washington","mean_loss":8250,"mean_pct_loss":7.5,"x":2016,"y":42,"value":7.5,"yf":"Washington"},{"year":2016,"state":"West Virginia","mean_loss":970,"mean_pct_loss":13.25,"x":2016,"y":43,"value":13.25,"yf":"West Virginia"},{"year":2016,"state":"Wisconsin","mean_loss":6975,"mean_pct_loss":12.25,"x":2016,"y":44,"value":12.25,"yf":"Wisconsin"},{"year":2016,"state":"Wyoming","mean_loss":3035,"mean_pct_loss":10.75,"x":2016,"y":45,"value":10.75,"yf":"Wyoming"},{"year":2017,"state":"Alabama","mean_loss":982.5,"mean_pct_loss":13,"x":2017,"y":0,"value":13,"yf":"Alabama"},{"year":2017,"state":"Arizona","mean_loss":4800,"mean_pct_loss":17.25,"x":2017,"y":1,"value":17.25,"yf":"Arizona"},{"year":2017,"state":"Arkansas","mean_loss":4725,"mean_pct_loss":20,"x":2017,"y":2,"value":20,"yf":"Arkansas"},{"year":2017,"state":"California","mean_loss":119000,"mean_pct_loss":10.5,"x":2017,"y":3,"value":10.5,"yf":"California"},{"year":2017,"state":"Colorado","mean_loss":3975,"mean_pct_loss":12,"x":2017,"y":4,"value":12,"yf":"Colorado"},{"year":2017,"state":"Connecticut","mean_loss":245,"mean_pct_loss":7.25,"x":2017,"y":5,"value":7.25,"yf":"Connecticut"},{"year":2017,"state":"Florida","mean_loss":36000,"mean_pct_loss":16,"x":2017,"y":6,"value":16,"yf":"Florida"},{"year":2017,"state":"Georgia","mean_loss":15250,"mean_pct_loss":11.25,"x":2017,"y":7,"value":11.25,"yf":"Georgia"},{"year":2017,"state":"Hawaii","mean_loss":370,"mean_pct_loss":2.5,"x":2017,"y":8,"value":2.5,"yf":"Hawaii"},{"year":2017,"state":"Idaho","mean_loss":9750,"mean_pct_loss":9,"x":2017,"y":9,"value":9,"yf":"Idaho"},{"year":2017,"state":"Illinois","mean_loss":1750,"mean_pct_loss":14.25,"x":2017,"y":10,"value":14.25,"yf":"Illinois"},{"year":2017,"state":"Indiana","mean_loss":1432.5,"mean_pct_loss":14.5,"x":2017,"y":11,"value":14.5,"yf":"Indiana"},{"year":2017,"state":"Iowa","mean_loss":3425,"mean_pct_loss":11.75,"x":2017,"y":12,"value":11.75,"yf":"Iowa"},{"year":2017,"state":"Kansas","mean_loss":977.5,"mean_pct_loss":17.75,"x":2017,"y":13,"value":17.75,"yf":"Kansas"},{"year":2017,"state":"Kentucky","mean_loss":1082.5,"mean_pct_loss":14.25,"x":2017,"y":14,"value":14.25,"yf":"Kentucky"},{"year":2017,"state":"Louisiana","mean_loss":5375,"mean_pct_loss":9.25,"x":2017,"y":15,"value":9.25,"yf":"Louisiana"},{"year":2017,"state":"Maine","mean_loss":592.5,"mean_pct_loss":10.5,"x":2017,"y":16,"value":10.5,"yf":"Maine"},{"year":2017,"state":"Maryland","mean_loss":1297.5,"mean_pct_loss":14,"x":2017,"y":17,"value":14,"yf":"Maryland"},{"year":2017,"state":"Massachusetts","mean_loss":872.5,"mean_pct_loss":18.25,"x":2017,"y":18,"value":18.25,"yf":"Massachusetts"},{"year":2017,"state":"Michigan","mean_loss":9650,"mean_pct_loss":10.75,"x":2017,"y":19,"value":10.75,"yf":"Michigan"},{"year":2017,"state":"Minnesota","mean_loss":8875,"mean_pct_loss":8.75,"x":2017,"y":20,"value":8.75,"yf":"Minnesota"},{"year":2017,"state":"Mississippi","mean_loss":3175,"mean_pct_loss":8.75,"x":2017,"y":21,"value":8.75,"yf":"Mississippi"},{"year":2017,"state":"Missouri","mean_loss":715,"mean_pct_loss":8.5,"x":2017,"y":22,"value":8.5,"yf":"Missouri"},{"year":2017,"state":"Montana","mean_loss":8942.5,"mean_pct_loss":6.5,"x":2017,"y":23,"value":6.5,"yf":"Montana"},{"year":2017,"state":"Nebraska","mean_loss":3147.5,"mean_pct_loss":8.25,"x":2017,"y":24,"value":8.25,"yf":"Nebraska"},{"year":2017,"state":"New Jersey","mean_loss":635,"mean_pct_loss":5.25,"x":2017,"y":25,"value":5.25,"yf":"New Jersey"},{"year":2017,"state":"New Mexico","mean_loss":2050,"mean_pct_loss":28.5,"x":2017,"y":26,"value":28.5,"yf":"New Mexico"},{"year":2017,"state":"New York","mean_loss":4425,"mean_pct_loss":10,"x":2017,"y":27,"value":10,"yf":"New York"},{"year":2017,"state":"North Carolina","mean_loss":3100,"mean_pct_loss":12.75,"x":2017,"y":28,"value":12.75,"yf":"North Carolina"},{"year":2017,"state":"North Dakota","mean_loss":21285,"mean_pct_loss":5,"x":2017,"y":29,"value":5,"yf":"North Dakota"},{"year":2017,"state":"Ohio","mean_loss":2525,"mean_pct_loss":14,"x":2017,"y":30,"value":14,"yf":"Ohio"},{"year":2017,"state":"Oklahoma","mean_loss":340,"mean_pct_loss":5,"x":2017,"y":31,"value":5,"yf":"Oklahoma"},{"year":2017,"state":"Oregon","mean_loss":9125,"mean_pct_loss":9.5,"x":2017,"y":32,"value":9.5,"yf":"Oregon"},{"year":2017,"state":"Other States","mean_loss":780,"mean_pct_loss":10.5,"x":2017,"y":33,"value":10.5,"yf":"Other States"},{"year":2017,"state":"Pennsylvania","mean_loss":2927.5,"mean_pct_loss":14.25,"x":2017,"y":34,"value":14.25,"yf":"Pennsylvania"},{"year":2017,"state":"South Carolina","mean_loss":1542.5,"mean_pct_loss":9.5,"x":2017,"y":35,"value":9.5,"yf":"South Carolina"},{"year":2017,"state":"South Dakota","mean_loss":7925,"mean_pct_loss":6.5,"x":2017,"y":36,"value":6.5,"yf":"South Dakota"},{"year":2017,"state":"Tennessee","mean_loss":1425,"mean_pct_loss":15,"x":2017,"y":37,"value":15,"yf":"Tennessee"},{"year":2017,"state":"Texas","mean_loss":22000,"mean_pct_loss":9,"x":2017,"y":38,"value":9,"yf":"Texas"},{"year":2017,"state":"Utah","mean_loss":3375,"mean_pct_loss":12,"x":2017,"y":39,"value":12,"yf":"Utah"},{"year":2017,"state":"Vermont","mean_loss":315,"mean_pct_loss":4.5,"x":2017,"y":40,"value":4.5,"yf":"Vermont"},{"year":2017,"state":"Virginia","mean_loss":1175,"mean_pct_loss":12.75,"x":2017,"y":41,"value":12.75,"yf":"Virginia"},{"year":2017,"state":"Washington","mean_loss":9125,"mean_pct_loss":9.5,"x":2017,"y":42,"value":9.5,"yf":"Washington"},{"year":2017,"state":"West Virginia","mean_loss":817.5,"mean_pct_loss":9.75,"x":2017,"y":43,"value":9.75,"yf":"West Virginia"},{"year":2017,"state":"Wisconsin","mean_loss":7075,"mean_pct_loss":14,"x":2017,"y":44,"value":14,"yf":"Wisconsin"},{"year":2017,"state":"Wyoming","mean_loss":3425,"mean_pct_loss":13,"x":2017,"y":45,"value":13,"yf":"Wyoming"},{"year":2018,"state":"Alabama","mean_loss":1040,"mean_pct_loss":13.5,"x":2018,"y":0,"value":13.5,"yf":"Alabama"},{"year":2018,"state":"Arizona","mean_loss":5400,"mean_pct_loss":20.25,"x":2018,"y":1,"value":20.25,"yf":"Arizona"},{"year":2018,"state":"Arkansas","mean_loss":4325,"mean_pct_loss":18.5,"x":2018,"y":2,"value":18.5,"yf":"Arkansas"},{"year":2018,"state":"California","mean_loss":133250,"mean_pct_loss":11,"x":2018,"y":3,"value":11,"yf":"California"},{"year":2018,"state":"Colorado","mean_loss":3925,"mean_pct_loss":14.5,"x":2018,"y":4,"value":14.5,"yf":"Colorado"},{"year":2018,"state":"Connecticut","mean_loss":152.5,"mean_pct_loss":4.5,"x":2018,"y":5,"value":4.5,"yf":"Connecticut"},{"year":2018,"state":"Florida","mean_loss":39000,"mean_pct_loss":15,"x":2018,"y":6,"value":15,"yf":"Florida"},{"year":2018,"state":"Georgia","mean_loss":19375,"mean_pct_loss":13.5,"x":2018,"y":7,"value":13.5,"yf":"Georgia"},{"year":2018,"state":"Hawaii","mean_loss":1155,"mean_pct_loss":7.5,"x":2018,"y":8,"value":7.5,"yf":"Hawaii"},{"year":2018,"state":"Idaho","mean_loss":13950,"mean_pct_loss":10.25,"x":2018,"y":9,"value":10.25,"yf":"Idaho"},{"year":2018,"state":"Illinois","mean_loss":1640,"mean_pct_loss":15.25,"x":2018,"y":10,"value":15.25,"yf":"Illinois"},{"year":2018,"state":"Indiana","mean_loss":1772.5,"mean_pct_loss":19.75,"x":2018,"y":11,"value":19.75,"yf":"Indiana"},{"year":2018,"state":"Iowa","mean_loss":3350,"mean_pct_loss":9.5,"x":2018,"y":12,"value":9.5,"yf":"Iowa"},{"year":2018,"state":"Kansas","mean_loss":767.5,"mean_pct_loss":16,"x":2018,"y":13,"value":16,"yf":"Kansas"},{"year":2018,"state":"Kentucky","mean_loss":1222.5,"mean_pct_loss":19.5,"x":2018,"y":14,"value":19.5,"yf":"Kentucky"},{"year":2018,"state":"Louisiana","mean_loss":2267.5,"mean_pct_loss":4.5,"x":2018,"y":15,"value":4.5,"yf":"Louisiana"},{"year":2018,"state":"Maine","mean_loss":907.5,"mean_pct_loss":9.5,"x":2018,"y":16,"value":9.5,"yf":"Maine"},{"year":2018,"state":"Maryland","mean_loss":730,"mean_pct_loss":9.25,"x":2018,"y":17,"value":9.25,"yf":"Maryland"},{"year":2018,"state":"Massachusetts","mean_loss":1027.5,"mean_pct_loss":16,"x":2018,"y":18,"value":16,"yf":"Massachusetts"},{"year":2018,"state":"Michigan","mean_loss":7000,"mean_pct_loss":12.5,"x":2018,"y":19,"value":12.5,"yf":"Michigan"},{"year":2018,"state":"Minnesota","mean_loss":12725,"mean_pct_loss":12,"x":2018,"y":20,"value":12,"yf":"Minnesota"},{"year":2018,"state":"Mississippi","mean_loss":2975,"mean_pct_loss":10.25,"x":2018,"y":21,"value":10.25,"yf":"Mississippi"},{"year":2018,"state":"Missouri","mean_loss":802.5,"mean_pct_loss":9.5,"x":2018,"y":22,"value":9.5,"yf":"Missouri"},{"year":2018,"state":"Montana","mean_loss":7235,"mean_pct_loss":6.66666666666667,"x":2018,"y":23,"value":6.66666666666667,"yf":"Montana"},{"year":2018,"state":"Nebraska","mean_loss":3657.5,"mean_pct_loss":8.25,"x":2018,"y":24,"value":8.25,"yf":"Nebraska"},{"year":2018,"state":"New Jersey","mean_loss":655,"mean_pct_loss":5.75,"x":2018,"y":25,"value":5.75,"yf":"New Jersey"},{"year":2018,"state":"New Mexico","mean_loss":2037.5,"mean_pct_loss":27,"x":2018,"y":26,"value":27,"yf":"New Mexico"},{"year":2018,"state":"New York","mean_loss":3825,"mean_pct_loss":9.5,"x":2018,"y":27,"value":9.5,"yf":"New York"},{"year":2018,"state":"North Carolina","mean_loss":2575,"mean_pct_loss":14.75,"x":2018,"y":28,"value":14.75,"yf":"North Carolina"},{"year":2018,"state":"North Dakota","mean_loss":25550,"mean_pct_loss":6.25,"x":2018,"y":29,"value":6.25,"yf":"North Dakota"},{"year":2018,"state":"Ohio","mean_loss":2125,"mean_pct_loss":14.75,"x":2018,"y":30,"value":14.75,"yf":"Ohio"},{"year":2018,"state":"Oklahoma","mean_loss":2042.5,"mean_pct_loss":13.25,"x":2018,"y":31,"value":13.25,"yf":"Oklahoma"},{"year":2018,"state":"Oregon","mean_loss":8375,"mean_pct_loss":8,"x":2018,"y":32,"value":8,"yf":"Oregon"},{"year":2018,"state":"Other States","mean_loss":1042.5,"mean_pct_loss":13.5,"x":2018,"y":33,"value":13.5,"yf":"Other States"},{"year":2018,"state":"Pennsylvania","mean_loss":1865,"mean_pct_loss":9.75,"x":2018,"y":34,"value":9.75,"yf":"Pennsylvania"},{"year":2018,"state":"South Carolina","mean_loss":1500,"mean_pct_loss":11.25,"x":2018,"y":35,"value":11.25,"yf":"South Carolina"},{"year":2018,"state":"South Dakota","mean_loss":13847.5,"mean_pct_loss":8.5,"x":2018,"y":36,"value":8.5,"yf":"South Dakota"},{"year":2018,"state":"Tennessee","mean_loss":1750,"mean_pct_loss":19.25,"x":2018,"y":37,"value":19.25,"yf":"Tennessee"},{"year":2018,"state":"Texas","mean_loss":19375,"mean_pct_loss":7.75,"x":2018,"y":38,"value":7.75,"yf":"Texas"},{"year":2018,"state":"Utah","mean_loss":2530,"mean_pct_loss":9.75,"x":2018,"y":39,"value":9.75,"yf":"Utah"},{"year":2018,"state":"Vermont","mean_loss":337.5,"mean_pct_loss":5.5,"x":2018,"y":40,"value":5.5,"yf":"Vermont"},{"year":2018,"state":"Virginia","mean_loss":1075,"mean_pct_loss":15.75,"x":2018,"y":41,"value":15.75,"yf":"Virginia"},{"year":2018,"state":"Washington","mean_loss":8525,"mean_pct_loss":9.5,"x":2018,"y":42,"value":9.5,"yf":"Washington"},{"year":2018,"state":"West Virginia","mean_loss":1052.5,"mean_pct_loss":13.75,"x":2018,"y":43,"value":13.75,"yf":"West Virginia"},{"year":2018,"state":"Wisconsin","mean_loss":7275,"mean_pct_loss":15,"x":2018,"y":44,"value":15,"yf":"Wisconsin"},{"year":2018,"state":"Wyoming","mean_loss":2255,"mean_pct_loss":8,"x":2018,"y":45,"value":8,"yf":"Wyoming"},{"year":2019,"state":"Alabama","mean_loss":766.666666666667,"mean_pct_loss":12.3333333333333,"x":2019,"y":0,"value":12.3333333333333,"yf":"Alabama"},{"year":2019,"state":"Arizona","mean_loss":3833.33333333333,"mean_pct_loss":12.3333333333333,"x":2019,"y":1,"value":12.3333333333333,"yf":"Arizona"},{"year":2019,"state":"Arkansas","mean_loss":3400,"mean_pct_loss":13.6666666666667,"x":2019,"y":2,"value":13.6666666666667,"yf":"Arkansas"},{"year":2019,"state":"California","mean_loss":154666.666666667,"mean_pct_loss":12.6666666666667,"x":2019,"y":3,"value":12.6666666666667,"yf":"California"},{"year":2019,"state":"Colorado","mean_loss":5940,"mean_pct_loss":20,"x":2019,"y":4,"value":20,"yf":"Colorado"},{"year":2019,"state":"Connecticut","mean_loss":256.666666666667,"mean_pct_loss":7.33333333333333,"x":2019,"y":5,"value":7.33333333333333,"yf":"Connecticut"},{"year":2019,"state":"Florida","mean_loss":32000,"mean_pct_loss":11,"x":2019,"y":6,"value":11,"yf":"Florida"},{"year":2019,"state":"Georgia","mean_loss":15833.3333333333,"mean_pct_loss":12.3333333333333,"x":2019,"y":7,"value":12.3333333333333,"yf":"Georgia"},{"year":2019,"state":"Hawaii","mean_loss":630,"mean_pct_loss":3.66666666666667,"x":2019,"y":8,"value":3.66666666666667,"yf":"Hawaii"},{"year":2019,"state":"Idaho","mean_loss":12833.3333333333,"mean_pct_loss":8.66666666666667,"x":2019,"y":9,"value":8.66666666666667,"yf":"Idaho"},{"year":2019,"state":"Illinois","mean_loss":1646.66666666667,"mean_pct_loss":15.3333333333333,"x":2019,"y":10,"value":15.3333333333333,"yf":"Illinois"},{"year":2019,"state":"Indiana","mean_loss":1003.33333333333,"mean_pct_loss":8.33333333333333,"x":2019,"y":11,"value":8.33333333333333,"yf":"Indiana"},{"year":2019,"state":"Iowa","mean_loss":4166.66666666667,"mean_pct_loss":15.6666666666667,"x":2019,"y":12,"value":15.6666666666667,"yf":"Iowa"},{"year":2019,"state":"Kansas","mean_loss":1350,"mean_pct_loss":23.6666666666667,"x":2019,"y":13,"value":23.6666666666667,"yf":"Kansas"},{"year":2019,"state":"Kentucky","mean_loss":716.666666666667,"mean_pct_loss":11.6666666666667,"x":2019,"y":14,"value":11.6666666666667,"yf":"Kentucky"},{"year":2019,"state":"Louisiana","mean_loss":3300,"mean_pct_loss":7,"x":2019,"y":15,"value":7,"yf":"Louisiana"},{"year":2019,"state":"Maine","mean_loss":780,"mean_pct_loss":7.66666666666667,"x":2019,"y":16,"value":7.66666666666667,"yf":"Maine"},{"year":2019,"state":"Maryland","mean_loss":1396.66666666667,"mean_pct_loss":18,"x":2019,"y":17,"value":18,"yf":"Maryland"},{"year":2019,"state":"Massachusetts","mean_loss":993.333333333333,"mean_pct_loss":16.6666666666667,"x":2019,"y":18,"value":16.6666666666667,"yf":"Massachusetts"},{"year":2019,"state":"Michigan","mean_loss":8000,"mean_pct_loss":13,"x":2019,"y":19,"value":13,"yf":"Michigan"},{"year":2019,"state":"Minnesota","mean_loss":12900,"mean_pct_loss":12.3333333333333,"x":2019,"y":20,"value":12.3333333333333,"yf":"Minnesota"},{"year":2019,"state":"Mississippi","mean_loss":2900,"mean_pct_loss":11,"x":2019,"y":21,"value":11,"yf":"Mississippi"},{"year":2019,"state":"Missouri","mean_loss":1033.33333333333,"mean_pct_loss":11,"x":2019,"y":22,"value":11,"yf":"Missouri"},{"year":2019,"state":"Montana","mean_loss":9666.66666666667,"mean_pct_loss":8.66666666666667,"x":2019,"y":23,"value":8.66666666666667,"yf":"Montana"},{"year":2019,"state":"Nebraska","mean_loss":2966.66666666667,"mean_pct_loss":10.3333333333333,"x":2019,"y":24,"value":10.3333333333333,"yf":"Nebraska"},{"year":2019,"state":"New Jersey","mean_loss":403.333333333333,"mean_pct_loss":3.33333333333333,"x":2019,"y":25,"value":3.33333333333333,"yf":"New Jersey"},{"year":2019,"state":"New Mexico","mean_loss":136.666666666667,"mean_pct_loss":2.66666666666667,"x":2019,"y":26,"value":2.66666666666667,"yf":"New Mexico"},{"year":2019,"state":"New York","mean_loss":7300,"mean_pct_loss":13.6666666666667,"x":2019,"y":27,"value":13.6666666666667,"yf":"New York"},{"year":2019,"state":"North Carolina","mean_loss":2533.33333333333,"mean_pct_loss":14,"x":2019,"y":28,"value":14,"yf":"North Carolina"},{"year":2019,"state":"North Dakota","mean_loss":36366.6666666667,"mean_pct_loss":7.33333333333333,"x":2019,"y":29,"value":7.33333333333333,"yf":"North Dakota"},{"year":2019,"state":"Ohio","mean_loss":2600,"mean_pct_loss":16.6666666666667,"x":2019,"y":30,"value":16.6666666666667,"yf":"Ohio"},{"year":2019,"state":"Oklahoma","mean_loss":1160,"mean_pct_loss":9.5,"x":2019,"y":31,"value":9.5,"yf":"Oklahoma"},{"year":2019,"state":"Oregon","mean_loss":10166.6666666667,"mean_pct_loss":9,"x":2019,"y":32,"value":9,"yf":"Oregon"},{"year":2019,"state":"Other States","mean_loss":1336.66666666667,"mean_pct_loss":12.3333333333333,"x":2019,"y":33,"value":12.3333333333333,"yf":"Other States"},{"year":2019,"state":"Pennsylvania","mean_loss":2560,"mean_pct_loss":14,"x":2019,"y":34,"value":14,"yf":"Pennsylvania"},{"year":2019,"state":"South Carolina","mean_loss":1596.66666666667,"mean_pct_loss":11.3333333333333,"x":2019,"y":35,"value":11.3333333333333,"yf":"South Carolina"},{"year":2019,"state":"South Dakota","mean_loss":19866.6666666667,"mean_pct_loss":10,"x":2019,"y":36,"value":10,"yf":"South Dakota"},{"year":2019,"state":"Tennessee","mean_loss":2433.33333333333,"mean_pct_loss":21.6666666666667,"x":2019,"y":37,"value":21.6666666666667,"yf":"Tennessee"},{"year":2019,"state":"Texas","mean_loss":15166.6666666667,"mean_pct_loss":6.66666666666667,"x":2019,"y":38,"value":6.66666666666667,"yf":"Texas"},{"year":2019,"state":"Utah","mean_loss":3000,"mean_pct_loss":13.3333333333333,"x":2019,"y":39,"value":13.3333333333333,"yf":"Utah"},{"year":2019,"state":"Vermont","mean_loss":190,"mean_pct_loss":3,"x":2019,"y":40,"value":3,"yf":"Vermont"},{"year":2019,"state":"Virginia","mean_loss":956.666666666667,"mean_pct_loss":13.6666666666667,"x":2019,"y":41,"value":13.6666666666667,"yf":"Virginia"},{"year":2019,"state":"Washington","mean_loss":13500,"mean_pct_loss":14.6666666666667,"x":2019,"y":42,"value":14.6666666666667,"yf":"Washington"},{"year":2019,"state":"West Virginia","mean_loss":1300,"mean_pct_loss":16.3333333333333,"x":2019,"y":43,"value":16.3333333333333,"yf":"West Virginia"},{"year":2019,"state":"Wisconsin","mean_loss":6233.33333333333,"mean_pct_loss":16.6666666666667,"x":2019,"y":44,"value":16.6666666666667,"yf":"Wisconsin"},{"year":2019,"state":"Wyoming","mean_loss":2183.33333333333,"mean_pct_loss":8.66666666666667,"x":2019,"y":45,"value":8.66666666666667,"yf":"Wyoming"},{"year":2020,"state":"Alabama","mean_loss":2327.5,"mean_pct_loss":19.5,"x":2020,"y":0,"value":19.5,"yf":"Alabama"},{"year":2020,"state":"Arizona","mean_loss":4950,"mean_pct_loss":16.75,"x":2020,"y":1,"value":16.75,"yf":"Arizona"},{"year":2020,"state":"Arkansas","mean_loss":1725,"mean_pct_loss":8.75,"x":2020,"y":2,"value":8.75,"yf":"Arkansas"},{"year":2020,"state":"California","mean_loss":134250,"mean_pct_loss":10.25,"x":2020,"y":3,"value":10.25,"yf":"California"},{"year":2020,"state":"Colorado","mean_loss":3687.5,"mean_pct_loss":15.5,"x":2020,"y":4,"value":15.5,"yf":"Colorado"},{"year":2020,"state":"Connecticut","mean_loss":290,"mean_pct_loss":6.5,"x":2020,"y":5,"value":6.5,"yf":"Connecticut"},{"year":2020,"state":"Florida","mean_loss":31750,"mean_pct_loss":11.25,"x":2020,"y":6,"value":11.25,"yf":"Florida"},{"year":2020,"state":"Georgia","mean_loss":19375,"mean_pct_loss":12.5,"x":2020,"y":7,"value":12.5,"yf":"Georgia"},{"year":2020,"state":"Hawaii","mean_loss":1185,"mean_pct_loss":8,"x":2020,"y":8,"value":8,"yf":"Hawaii"},{"year":2020,"state":"Idaho","mean_loss":15750,"mean_pct_loss":13.25,"x":2020,"y":9,"value":13.25,"yf":"Idaho"},{"year":2020,"state":"Illinois","mean_loss":1675,"mean_pct_loss":13,"x":2020,"y":10,"value":13,"yf":"Illinois"},{"year":2020,"state":"Indiana","mean_loss":1262.5,"mean_pct_loss":10.25,"x":2020,"y":11,"value":10.25,"yf":"Indiana"},{"year":2020,"state":"Iowa","mean_loss":2950,"mean_pct_loss":9.5,"x":2020,"y":12,"value":9.5,"yf":"Iowa"},{"year":2020,"state":"Kansas","mean_loss":1125,"mean_pct_loss":16,"x":2020,"y":13,"value":16,"yf":"Kansas"},{"year":2020,"state":"Kentucky","mean_loss":1225,"mean_pct_loss":11,"x":2020,"y":14,"value":11,"yf":"Kentucky"},{"year":2020,"state":"Louisiana","mean_loss":2725,"mean_pct_loss":5.25,"x":2020,"y":15,"value":5.25,"yf":"Louisiana"},{"year":2020,"state":"Maine","mean_loss":757.5,"mean_pct_loss":7.5,"x":2020,"y":16,"value":7.5,"yf":"Maine"},{"year":2020,"state":"Maryland","mean_loss":747.5,"mean_pct_loss":9.75,"x":2020,"y":17,"value":9.75,"yf":"Maryland"},{"year":2020,"state":"Massachusetts","mean_loss":452.5,"mean_pct_loss":5.25,"x":2020,"y":18,"value":5.25,"yf":"Massachusetts"},{"year":2020,"state":"Michigan","mean_loss":13275,"mean_pct_loss":13.5,"x":2020,"y":19,"value":13.5,"yf":"Michigan"},{"year":2020,"state":"Minnesota","mean_loss":6875,"mean_pct_loss":6.25,"x":2020,"y":20,"value":6.25,"yf":"Minnesota"},{"year":2020,"state":"Mississippi","mean_loss":3350,"mean_pct_loss":10.5,"x":2020,"y":21,"value":10.5,"yf":"Mississippi"},{"year":2020,"state":"Missouri","mean_loss":992.5,"mean_pct_loss":12.75,"x":2020,"y":22,"value":12.75,"yf":"Missouri"},{"year":2020,"state":"Montana","mean_loss":6612.5,"mean_pct_loss":8,"x":2020,"y":23,"value":8,"yf":"Montana"},{"year":2020,"state":"Nebraska","mean_loss":3442.5,"mean_pct_loss":8.5,"x":2020,"y":24,"value":8.5,"yf":"Nebraska"},{"year":2020,"state":"New Jersey","mean_loss":905,"mean_pct_loss":5.5,"x":2020,"y":25,"value":5.5,"yf":"New Jersey"},{"year":2020,"state":"New Mexico","mean_loss":470,"mean_pct_loss":9,"x":2020,"y":26,"value":9,"yf":"New Mexico"},{"year":2020,"state":"New York","mean_loss":4075,"mean_pct_loss":8.25,"x":2020,"y":27,"value":8.25,"yf":"New York"},{"year":2020,"state":"North Carolina","mean_loss":2725,"mean_pct_loss":11,"x":2020,"y":28,"value":11,"yf":"North Carolina"},{"year":2020,"state":"North Dakota","mean_loss":30000,"mean_pct_loss":7.5,"x":2020,"y":29,"value":7.5,"yf":"North Dakota"},{"year":2020,"state":"Ohio","mean_loss":2675,"mean_pct_loss":13.75,"x":2020,"y":30,"value":13.75,"yf":"Ohio"},{"year":2020,"state":"Oklahoma","mean_loss":900,"mean_pct_loss":7,"x":2020,"y":31,"value":7,"yf":"Oklahoma"},{"year":2020,"state":"Oregon","mean_loss":8700,"mean_pct_loss":7.5,"x":2020,"y":32,"value":7.5,"yf":"Oregon"},{"year":2020,"state":"Other States","mean_loss":1310,"mean_pct_loss":12.25,"x":2020,"y":33,"value":12.25,"yf":"Other States"},{"year":2020,"state":"Pennsylvania","mean_loss":1525,"mean_pct_loss":6,"x":2020,"y":34,"value":6,"yf":"Pennsylvania"},{"year":2020,"state":"South Carolina","mean_loss":1725,"mean_pct_loss":10.25,"x":2020,"y":35,"value":10.25,"yf":"South Carolina"},{"year":2020,"state":"South Dakota","mean_loss":21950,"mean_pct_loss":11,"x":2020,"y":36,"value":11,"yf":"South Dakota"},{"year":2020,"state":"Tennessee","mean_loss":1395,"mean_pct_loss":10,"x":2020,"y":37,"value":10,"yf":"Tennessee"},{"year":2020,"state":"Texas","mean_loss":28125,"mean_pct_loss":9.5,"x":2020,"y":38,"value":9.5,"yf":"Texas"},{"year":2020,"state":"Utah","mean_loss":2225,"mean_pct_loss":7.75,"x":2020,"y":39,"value":7.75,"yf":"Utah"},{"year":2020,"state":"Vermont","mean_loss":315,"mean_pct_loss":4.25,"x":2020,"y":40,"value":4.25,"yf":"Vermont"},{"year":2020,"state":"Virginia","mean_loss":1125,"mean_pct_loss":14.25,"x":2020,"y":41,"value":14.25,"yf":"Virginia"},{"year":2020,"state":"Washington","mean_loss":7025,"mean_pct_loss":7,"x":2020,"y":42,"value":7,"yf":"Washington"},{"year":2020,"state":"West Virginia","mean_loss":690,"mean_pct_loss":9,"x":2020,"y":43,"value":9,"yf":"West Virginia"},{"year":2020,"state":"Wisconsin","mean_loss":4800,"mean_pct_loss":8.5,"x":2020,"y":44,"value":8.5,"yf":"Wisconsin"},{"year":2020,"state":"Wyoming","mean_loss":1735,"mean_pct_loss":6.25,"x":2020,"y":45,"value":6.25,"yf":"Wyoming"},{"year":2021,"state":"Alabama","mean_loss":1950,"mean_pct_loss":20,"x":2021,"y":0,"value":20,"yf":"Alabama"},{"year":2021,"state":"Arizona","mean_loss":5600,"mean_pct_loss":20,"x":2021,"y":1,"value":20,"yf":"Arizona"},{"year":2021,"state":"Arkansas","mean_loss":1900,"mean_pct_loss":11.5,"x":2021,"y":2,"value":11.5,"yf":"Arkansas"},{"year":2021,"state":"California","mean_loss":128500,"mean_pct_loss":9,"x":2021,"y":3,"value":9,"yf":"California"},{"year":2021,"state":"Colorado","mean_loss":3070,"mean_pct_loss":14.5,"x":2021,"y":4,"value":14.5,"yf":"Colorado"},{"year":2021,"state":"Connecticut","mean_loss":420,"mean_pct_loss":10.5,"x":2021,"y":5,"value":10.5,"yf":"Connecticut"},{"year":2021,"state":"Florida","mean_loss":32000,"mean_pct_loss":10.5,"x":2021,"y":6,"value":10.5,"yf":"Florida"},{"year":2021,"state":"Georgia","mean_loss":20000,"mean_pct_loss":16,"x":2021,"y":7,"value":16,"yf":"Georgia"},{"year":2021,"state":"Hawaii","mean_loss":765,"mean_pct_loss":4,"x":2021,"y":8,"value":4,"yf":"Hawaii"},{"year":2021,"state":"Idaho","mean_loss":17250,"mean_pct_loss":12.5,"x":2021,"y":9,"value":12.5,"yf":"Idaho"},{"year":2021,"state":"Illinois","mean_loss":2050,"mean_pct_loss":16,"x":2021,"y":10,"value":16,"yf":"Illinois"},{"year":2021,"state":"Indiana","mean_loss":1630,"mean_pct_loss":14.5,"x":2021,"y":11,"value":14.5,"yf":"Indiana"},{"year":2021,"state":"Iowa","mean_loss":2150,"mean_pct_loss":8,"x":2021,"y":12,"value":8,"yf":"Iowa"},{"year":2021,"state":"Kansas","mean_loss":1135,"mean_pct_loss":16.5,"x":2021,"y":13,"value":16.5,"yf":"Kansas"},{"year":2021,"state":"Kentucky","mean_loss":1185,"mean_pct_loss":12,"x":2021,"y":14,"value":12,"yf":"Kentucky"},{"year":2021,"state":"Louisiana","mean_loss":4900,"mean_pct_loss":11,"x":2021,"y":15,"value":11,"yf":"Louisiana"},{"year":2021,"state":"Maine","mean_loss":700,"mean_pct_loss":8,"x":2021,"y":16,"value":8,"yf":"Maine"},{"year":2021,"state":"Maryland","mean_loss":760,"mean_pct_loss":10.5,"x":2021,"y":17,"value":10.5,"yf":"Maryland"},{"year":2021,"state":"Massachusetts","mean_loss":905,"mean_pct_loss":14,"x":2021,"y":18,"value":14,"yf":"Massachusetts"},{"year":2021,"state":"Michigan","mean_loss":2500,"mean_pct_loss":3,"x":2021,"y":19,"value":3,"yf":"Michigan"},{"year":2021,"state":"Minnesota","mean_loss":4350,"mean_pct_loss":5.5,"x":2021,"y":20,"value":5.5,"yf":"Minnesota"},{"year":2021,"state":"Mississippi","mean_loss":5150,"mean_pct_loss":14.5,"x":2021,"y":21,"value":14.5,"yf":"Mississippi"},{"year":2021,"state":"Missouri","mean_loss":1085,"mean_pct_loss":20.5,"x":2021,"y":22,"value":20.5,"yf":"Missouri"},{"year":2021,"state":"Montana","mean_loss":1705,"mean_pct_loss":2,"x":2021,"y":23,"value":2,"yf":"Montana"},{"year":2021,"state":"Nebraska","mean_loss":1220,"mean_pct_loss":4.5,"x":2021,"y":24,"value":4.5,"yf":"Nebraska"},{"year":2021,"state":"New Jersey","mean_loss":385,"mean_pct_loss":2.5,"x":2021,"y":25,"value":2.5,"yf":"New Jersey"},{"year":2021,"state":"New Mexico","mean_loss":385,"mean_pct_loss":8.5,"x":2021,"y":26,"value":8.5,"yf":"New Mexico"},{"year":2021,"state":"New York","mean_loss":3950,"mean_pct_loss":11,"x":2021,"y":27,"value":11,"yf":"New York"},{"year":2021,"state":"North Carolina","mean_loss":1900,"mean_pct_loss":8.5,"x":2021,"y":28,"value":8.5,"yf":"North Carolina"},{"year":2021,"state":"North Dakota","mean_loss":2290,"mean_pct_loss":1,"x":2021,"y":29,"value":1,"yf":"North Dakota"},{"year":2021,"state":"Ohio","mean_loss":2410,"mean_pct_loss":14.5,"x":2021,"y":30,"value":14.5,"yf":"Ohio"},{"year":2021,"state":"Oklahoma","mean_loss":3100,"mean_pct_loss":15,"x":2021,"y":31,"value":15,"yf":"Oklahoma"},{"year":2021,"state":"Oregon","mean_loss":3200,"mean_pct_loss":4,"x":2021,"y":32,"value":4,"yf":"Oregon"},{"year":2021,"state":"Other States","mean_loss":340,"mean_pct_loss":5,"x":2021,"y":33,"value":5,"yf":"Other States"},{"year":2021,"state":"Pennsylvania","mean_loss":3800,"mean_pct_loss":17.5,"x":2021,"y":34,"value":17.5,"yf":"Pennsylvania"},{"year":2021,"state":"South Carolina","mean_loss":1500,"mean_pct_loss":7.5,"x":2021,"y":35,"value":7.5,"yf":"South Carolina"},{"year":2021,"state":"South Dakota","mean_loss":3475,"mean_pct_loss":2,"x":2021,"y":36,"value":2,"yf":"South Dakota"},{"year":2021,"state":"Tennessee","mean_loss":1460,"mean_pct_loss":11.5,"x":2021,"y":37,"value":11.5,"yf":"Tennessee"},{"year":2021,"state":"Texas","mean_loss":28500,"mean_pct_loss":7.5,"x":2021,"y":38,"value":7.5,"yf":"Texas"},{"year":2021,"state":"Utah","mean_loss":3000,"mean_pct_loss":12.5,"x":2021,"y":39,"value":12.5,"yf":"Utah"},{"year":2021,"state":"Vermont","mean_loss":670,"mean_pct_loss":9,"x":2021,"y":40,"value":9,"yf":"Vermont"},{"year":2021,"state":"Virginia","mean_loss":965,"mean_pct_loss":13,"x":2021,"y":41,"value":13,"yf":"Virginia"},{"year":2021,"state":"Washington","mean_loss":4450,"mean_pct_loss":5.5,"x":2021,"y":42,"value":5.5,"yf":"Washington"},{"year":2021,"state":"West Virginia","mean_loss":685,"mean_pct_loss":9,"x":2021,"y":43,"value":9,"yf":"West Virginia"},{"year":2021,"state":"Wisconsin","mean_loss":2350,"mean_pct_loss":5.5,"x":2021,"y":44,"value":5.5,"yf":"Wisconsin"},{"year":2021,"state":"Wyoming","mean_loss":2550,"mean_pct_loss":11.5,"x":2021,"y":45,"value":11.5,"yf":"Wyoming"}],"type":"heatmap"}],"xAxis":{"type":"linear","title":{"text":"year"},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
<p>There is not a clear relationship between each stressor at the outcome, but the purpose of this isn’t to create a great model. We just need <em>a</em> model to get to the fun part of deploying it as an API and calling it to make predictions.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">stressor <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">filter</span>(state <span style="color:#555">!=</span> <span style="color:#c30">&#39;United States&#39;</span>) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">inner_join</span>(., colony) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">ggplot</span>(., <span style="color:#c0f">aes</span>(x <span style="color:#555">=</span> stress_pct, y <span style="color:#555">=</span> colony_lost_pct, color <span style="color:#555">=</span> <span style="color:#c0f">factor</span>(year))) <span style="color:#555">+</span> 
  <span style="color:#c0f">geom_point</span>(alpha <span style="color:#555">=</span> <span style="color:#f60">.45</span>) <span style="color:#555">+</span> 
  <span style="color:#09f;font-style:italic"># coord_equal() + </span>
  <span style="color:#c0f">facet_wrap</span>(<span style="color:#c0f">vars</span>(stressor)) <span style="color:#555">+</span>
  <span style="color:#c0f">bg_theme</span>(base_size <span style="color:#555">=</span> <span style="color:#f60">13</span>) <span style="color:#555">+</span> 
  ggsci<span style="color:#555">::</span><span style="color:#c0f">scale_color_npg</span>()
</code></pre></div><img src="https://brendangraham.online/blog/bees/index_files/figure-html/unnamed-chunk-5-1.png" width="864" />
<p>Here we create the modeling dataset. We have some missing data so we can add a pre-processing step to address that.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">model_data <span style="color:#555">&lt;-</span> 
  colony <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">filter</span>(state <span style="color:#555">!=</span> <span style="color:#c30">&#39;United States&#39;</span>) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">select</span>(year<span style="color:#555">:</span>state, colony_lost_pct) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">inner_join</span>(., stressor <span style="color:#555">%&gt;%</span>
               <span style="color:#c0f">pivot_wider</span>(names_from <span style="color:#555">=</span> stressor, values_from <span style="color:#555">=</span> stress_pct)) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">filter</span>(<span style="color:#555">!</span>(<span style="color:#c0f">is.na</span>(colony_lost_pct))) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">select</span>(<span style="color:#555">-</span><span style="color:#c0f">c</span>(year, state, months)) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">select</span>(colony_lost_pct, <span style="color:#c0f">everything</span>())

model_data <span style="color:#555">%&gt;%</span> 
  <span style="color:#c0f">add_table</span>()
</code></pre></div><div id="htmlwidget-2" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"colony_lost_pct":[26,13,11,15,12,22,13,14,4,4,40,22,18,23,39,16,6,41,22,19,5,11,15,6,8,12,10,22,27,1,48,23,8,31,15,5,21,10,14,13,28,13,30,28,17,23,12,17,14,10,8,3,16,19,1,9,14,10,6,10,12,4,11,3,2,11,10,12,4,2,6,10,12,3,8,6,11,8,6,8,5,7,10,11,13,2,4,4,12,7,13,17,16,15,30,10,15,1,16,12,19,11,10,11,8,11,13,4,8,9,8,8,24,10,9,7,8,1,25,14,12,19,8,1,9,7,17,18,12,12,22,1,9,12,4,15,7,7,8,31,9,12,10,7,14,15,5,15,5,10,12,40,13,7,1,8,6,12,10,4,5,8,10,3,5,9,10,13,13,7,8,11,13,4,11,10,7,15,10,7,9,14,5,13,23,16,19,15,8,10,17,20,2,7,17,12,19,21,19,14,5,22,12,14,15,8,10,2,2,12,26,13,10,10,26,48,3,23,21,1,19,10,14,8,17,10,23,13,7,11,12,16,14,9,6,4,12,10,6,8,8,3,9,16,8,8,17,4,4,7,10,4,6,4,14,8,22,9,7,5,10,2,3,9,10,6,7,10,19,4,4,14,7,10,7,15,19,5,10,18,9,11,13,4,10,12,6,11,33,13,12,8,3,6,14,19,17,5,7,18,2,17,18,6,13,8,15,7,6,7,13,10,8,10,6,10,7,3,16,18,16,9,21,9,15,15,8,14,10,7,11,8,16,9,26,13,4,8,5,9,12,12,8,7,13,12,3,23,18,22,11,11,6,8,15,8,8,9,13,5,4,10,9,13,13,8,9,23,19,18,12,5,12,11,11,1,9,26,25,19,26,19,6,32,23,45,8,9,4,16,1,6,8,38,18,11,1,25,2,9,23,9,6,19,11,15,7,18,9,10,20,21,24,7,12,11,7,12,5,10,7,1,12,10,11,9,8,8,5,2,2,2,6,4,4,3,3,1,2,23,3,6,3,8,1,5,3,4,4,12,5,7,2,11,5,5,4,4,2,9,16,21,10,10,4,22,13,7,10,8,7,5,24,18,21,7,19,8,16,15,12,6,11,8,3,29,11,12,10,8,12,13,8,12,10,17,13,19,2,10,18,10,17,15,11,13,22,30,13,21,8,21,14,1,5,13,15,14,13,12,5,1,12,18,13,7,15,9,11,18,8,24,8,22,6,15,11,23,13,6,12,7,7,7,12,6,14,15,12,5,11,23,34,14,23,5,14,18,11,13,23,13,3,26,29,7,13,19,26,24,6,6,18,3,11,52,14,23,3,29,21,5,10,12,1,30,8,4,10,30,5,24,16,3,29,10,13,13,6,9,3,17,12,2,5,20,20,9,4,8,2,6,5,3,9,6,9,6,3,7,2,1,9,7,3,8,10,3,6,9,7,15,10,7,8,9,5,7,12,10,3,20,26,8,10,14,4,14,12,11,14,6,9,6,16,12,4,7,5,22,9,23,18,5,12,12,2,17,7,12,12,8,18,11,4,12,11,10,6,15,1,8,14,7,14,11,9,13,19,19,14,12,6,15,12,6,9,12,37,20,18,29,5,12,8,13,8,13,8,9,5,11,8,38,8,17,7,14,4,13,19,12,15,22,7,13,3,16,14,17,18,8,13,12,11,23,15,4,9,15,11,2,9,26,12,14,33,20,7,7,29,18,20,5,8,13,5,15,5,4,14,12,1,28,8,19,5,6,21,5,16,4,20,9,19,22,3,10,14,7,10,13,26,5,8,11,1,9,7,6,10,25,10,9,9,11,8,11,16,13,5,12,9,4,3,12,12,15,8,12,7,5,15,20,32,8,10,2,6,22,11,10,11,15,11,19,8,10,30,8,10,15,8,8,13,7,23,13,5,5,7,14,24,8,16,12,15,9,7,1,1,15,18,6,14,7,12,18,14,4,12,7,14,3,15,13,19,18,12,12,5,20,7,13,4,8,10,12,9,11,16,14,8,11,11,10,8,9,9,9,2,18,25,4,4,1,10,10,5,28,4,4,4,5,6,11,10,2,7,16,2,14,6,1,5,48,5,11,6,8,1,12,7,18,13,8,12,6,11,3,6,9,5,3,5,8,6,3,5,4,1,9,6,4,10,9,3,4,9,2,9,6,9,4,15,3,8,3,7,3,19,27,8,10,24,6,13,14,3,13,10,11,5,13,12,5,15,9,3,32,9,6,9,6,9,12,29,6,17,11,9,14,10,8,13,28,15,5,7,3,14,7,7,12,11,18,6,15,9,12,26,11,10,17,12,11,13,8,13,34,10,3,1,12,4,10,9,10,11,15,16,2,5,8,11,10,8,1,13,8,14,8,5,17,13,3,12,16,7,13,6,23,12,24,10,12,4,19,10,17,5,9,24,25,8,22,22,14,10,17,20,2,5,15,27,1,4,3,7,16,10,23,9,4,26,6,1,17,7,14,17,20,9,16,7,12,8,28,16,13,6,25,2,11,15,3,16,8,4,8,11,2,8,6,4,8,4,6,14,14,3,5,2,10,6,7,1,6,21,4,9,9,3,6,8,11,1,6,2,2,4,11,2],"Varroa mites":[10,26.9,17.6,24.7,14.6,2.5,22.3,6.2,38.8,39.8,12.3,20.7,26,32.7,10.8,17.2,4.4,10.1,23.5,14.3,1.4,9.4,13.1,8.7,5.9,40.1,17.1,7.6,35.5,1.7,10.7,14.5,20.2,28.1,10.5,1.2,22.2,21.5,13.6,2.3,19,21.5,18,18.8,0.9,0.8,16.7,8.4,65.9,50.9,38.6,10.2,44.2,52.8,60.1,25.5,10.3,15.4,21.5,14.4,21.7,36.4,72.1,4.9,66.8,26.9,25.4,10.1,5.1,9,6.5,52.5,38.8,19.1,51,15.5,15.8,66.1,39.3,11.4,29.9,9.8,47.8,19.3,27.2,3.7,26.2,48.7,15.6,35.3,19.1,36.3,63.1,53.5,69.2,39.9,50.5,39.3,39.5,47.6,78.1,46.8,7.7,13.7,17.4,22.5,40.4,25.9,9.9,26.9,16.3,44.6,33.3,45.5,11.1,52.5,33.2,7.2,61.2,40,33.9,33.8,30.7,1.6,56,45.1,58.4,22,50.8,30.7,40.1,22.7,29,45.6,21.7,47.3,28.5,8.8,3.1,50.1,38.1,37.3,47.6,10.5,27.3,43.5,31,38.9,9.4,15.1,53.4,44.5,22.2,10.9,18,5.6,31.4,30.2,43.6,10.6,2.8,35.5,15.5,7.7,30.9,24.5,9.6,10.8,36.3,2.8,16.4,32.2,14.2,16.8,43.6,20.9,75.8,57.1,26.3,6.9,18.8,49.4,45,8.2,24.2,32.8,57.5,38.5,3.5,12.3,21.7,32.2,0.3,31.7,15,17.4,41.6,32.2,20.9,18,3.3,30.2,10.1,5.4,11.8,8.5,17.8,0.8,1.7,5.5,69,27.5,9.6,"NA",41.9,9.7,20.9,44.8,11,0.2,19.7,21,28.8,1.3,32.7,21.6,21.9,22,"NA",0.1,9.6,26.8,84.9,49.7,38.7,9.3,48.2,59.3,35.6,21.2,11.4,12.5,23.5,47.3,38.9,20.7,82.7,4.2,40.5,54.1,20.8,12.3,17.2,30.3,6.1,11.9,59.1,20.4,51.8,16.2,10.6,51.8,52.7,18.7,51.3,32.4,40.9,26.1,23,23.1,40.9,20.1,23.4,7.1,7.6,11.7,41.7,80.7,42.2,49.3,18.8,45.1,30.7,67.8,25.3,17.4,50.4,32.6,42.8,42.3,39.5,9.3,10.8,14.1,64.1,47.2,27.5,13.3,41.9,20.4,20.2,59.5,37.4,27.8,38,60.6,7.5,52.9,27.3,20.4,48.8,22.5,47.2,32.1,5.6,39.1,65.2,41.5,31.5,38.6,7.8,12.3,98.8,21.1,41.9,32.4,14.7,30.9,43.6,39.9,31.9,27.8,28.2,18.7,29.2,48.2,2.9,10.7,23.8,6.1,23.9,27.5,21.9,16.1,59.1,10.5,28.6,46.2,27.8,24,23.5,42,4.9,25.5,18.7,29,48.9,19.9,33.1,26.4,44.5,31.4,21.4,23.8,69.3,32.2,24.1,15.3,35.6,23.7,38,17,51.5,37.6,35.3,1.2,74.2,24.3,15.8,33.6,47.1,31.9,20.5,23.9,11.3,32,7.9,2.1,41.7,16.2,34,14.9,16.3,93.9,20.4,34.7,0.8,25.8,11.9,28.7,21,12.6,2.9,28.6,36.2,38.7,6,21.4,6.8,15.8,19,0.2,3.4,17.9,57.8,24.5,36.1,31.6,9.7,36.3,33,89.5,31.2,11,5.9,39.4,19.7,28.5,26.2,3.6,3.3,13.8,24.4,21.4,14.4,13.8,24.3,73.8,24.1,88.4,21.7,23.4,27.9,45.6,23,32.7,13.9,23.9,20.9,47.4,28.8,32.2,3.3,19.8,19.5,11.5,13.7,37.8,6.8,69.5,19.8,61.4,42.3,52.9,25.1,42.9,47.6,2.8,53.7,29.9,13.9,17.2,65.4,46.4,59.2,3.4,8.8,82,56.8,39.8,71.1,77.7,42.3,15.1,10.7,74.3,45.1,74.5,42,51.5,22,54.4,41.4,26.4,47.4,42.8,33.7,40.5,16.8,50.3,23.7,23.2,61.6,21.8,51.1,22.3,61.6,37.5,47.9,30.2,36.4,41.4,56.8,57.2,34,28.9,23.5,61,17.9,54.3,31.5,24.9,7.9,13.2,53.8,62.9,19.3,16.7,54.2,26.6,18.9,86.1,22.3,64.2,41.7,45.3,50.6,44.7,31.6,17.3,22.8,33.9,24.3,96.6,20.9,21.7,60.1,53.1,38,11.5,29.2,36.3,21.1,41.4,31.7,14.5,31.7,39.6,74.5,28.3,25.7,33.4,5.3,63,43,4.9,23.6,18.2,19.1,21.4,2,7,86,4.5,14.9,42.8,25.3,29.7,1.4,39.6,24.1,36,34.4,29.3,4.4,29.2,21.5,18.7,17,26,8.5,15,14.1,0.9,22.2,23.6,48.8,35.5,41.9,42.8,11.1,45,53,59.8,50.8,13.8,78.9,12.7,42.8,35.4,8.1,1.9,11.8,6.3,65.7,12.2,44.4,11.8,41.3,3.9,16.5,0.3,40.8,9.7,24.7,38.8,60.2,45.9,31.3,14.3,53.3,30,26,43.5,21.8,23,55.9,13.8,32.8,11,19.7,77.5,52.5,29.9,57.3,72.6,13,35,49.8,88.3,83.6,21.2,29.5,29.9,76.8,47.1,31.3,37,11.7,75.9,92.4,44.5,25.2,18.2,43.8,24.1,12.3,"NA",40.7,66,52.6,58.9,59.6,57.2,23.5,76.8,54.7,70.6,18.8,34,29.3,39,7.1,57,54.4,35.4,22.8,20.6,20.6,82.8,44.1,73.2,12.5,46.7,41.4,70.5,64.9,27.2,51.3,55.1,62,57.1,16.6,9.3,16.6,33.2,52,28.4,26.5,37,40.7,3,14,81.3,26,53,29.5,29.3,13.1,44.1,26.9,32.2,12.8,49.8,18.6,48,6.2,57.1,34.5,29.5,29.9,43.9,12.7,27.2,25.8,19.5,43.5,11.2,10.1,46.9,69.6,72.1,24.5,33.3,15.6,34.8,102,21.6,57.8,2.3,12.6,10.3,18.2,1.3,14.6,5.4,15.1,32.3,15.3,3.5,10.6,16.4,6.9,49.3,18,15.3,18.5,0.8,62.8,26.1,22.9,6.2,16.6,22.3,10.3,15.9,0.7,6.9,30.6,29,53.2,49,79.8,24.3,44.9,52.5,37.2,59.9,35.9,55.7,39.4,67.5,29.2,67.1,10.1,26.7,13,42.7,54.9,59.1,18.4,28,29.2,26.1,39.5,30.7,26.9,48.4,40.6,29,35.4,23.4,44.9,10.4,51.4,21.9,29.4,22.2,37.9,47.3,33.7,46.4,45.7,11.3,46.7,53.9,47.7,40.5,67.7,22.2,43.5,34.3,44,20.3,28.9,20.7,61,65.8,33,33,20.5,12.6,7.6,37,37.3,41,19.2,15.7,5.8,2.5,5.2,33.3,44.5,43,33.2,1,35.8,33.2,56.7,12.2,66.6,23.1,22.1,21,37.7,40.3,65.8,40,27.6,13.6,12.4,31.7,31.7,22.4,20.8,11.2,28,50.9,75.3,10.4,17.2,8.2,22.3,13.3,17.4,26.5,19.6,19.9,13.9,8.1,3.5,58.6,8.4,2.2,9.4,2.1,6.6,35.7,0.6,17.6,11.4,24.4,15.5,15.5,14.7,18.9,12.2,38.9,9.1,17.5,1.7,17.3,9,0.2,5.5,28.5,22.1,40.5,33.4,35.4,14.8,31.4,49.2,44.2,23.5,26.8,30.4,68.4,18.3,23.7,12.1,12,14.7,38,20.6,51.2,17.4,12.1,15.8,7.2,3,21.2,23,25.7,23.8,14.8,28,27.3,27.4,53.4,31.2,30.2,38.4,10.7,33.7,10.6,46.2,46.1,28.8,16.8,64.9,24.1,33.9,33.9,23.1,20.2,42.2,49.6,62.7,45,28.1,41.4,49.1,93.8,23.3,27.2,65.2,17.6,29.7,53.1,46.3,45.7,30.8,36.6,23.4,21.7,33.8,18.2,70.5,61.3,28.6,52.4,42.4,32.2,27.1,87,37.7,20.2,61.7,26.6,27.5,19.2,17.7,43.1,13.4,76.4,50.8,22.5,43.1,45.5,14.9,49.4,45.7,35.5,57.2,52.1,26.4,26.3,39.8,37.7,23.8,22.2,30.8,27.5,17.4,42.9,17.2,7.8,13.1,15.1,3.6,6.8,15.7,19.2,37.7,60.2,42.4,2.3,28.5,28.1,22.9,22.6,33.8,27.4,49.5,10,30.3,25.5,7.2,29.3,19.2,44.5,52.2,4.6,28.5,29.9,2.1,17.8,34.7,47.9,49,33.3,28.8,34.4,18.9,25.7,27.5,61.4,7.2,34.6,28.9,2.3,6.3,9.7,16.6,"NA","NA",18.7,14.2,15,23.7,26.6,7.6,12.9,18.1,48.5,8.6,34.4,18.5,45.4,21.1,11.9,15.5,13.7,16.1,"NA",19.4,55.2,6.4,44,42.4,47.6,16,43.3,44.5,93.3,31.9,22.7,22.8,7.1,45.7,21.5,30.6,14.1,17.4,45.5,45.1,12.9,46.7,15.4,20.8,17.4,11.4,64.6,35.8,35.8,29.9,68.2,3.1,17.2,21.8,50.1,51.8,22.4,38.1,40.1,28.8,13.3,31.7,5.2,14.9,8.3,60.3],"Other pests/parasites":[5.4,20.5,11.4,7.2,0.9,1.4,13.5,4.9,37.7,6.7,6.9,0.3,0.7,1.3,10.7,4.7,0.1,1.8,3.5,3.1,0.1,8.2,6,0.5,0.1,13.2,0.1,2.6,2.3,1.7,1.6,10.1,2,6.3,2.3,0.9,17.1,12.2,0.9,5.6,9.4,0.5,7.3,1.6,"NA",0.1,42.5,32.1,63.4,21.5,1.8,0.4,26.4,17.5,61,6.7,3.7,1.8,5.1,2.4,18.2,3.7,34.5,1.3,61.7,13,6.2,6,6.2,0.9,6.9,3.6,"NA",12.5,14.3,3,4.1,6.3,20.9,5.8,5.4,11.1,26.3,22.9,10.8,1.9,13,0.2,8.3,5.6,17.9,9.1,70.6,24.8,32.4,20.4,1.5,1.2,21.7,16.2,80.5,5.2,3,10.3,5.8,16.2,11.3,2.3,3.4,19.1,2.9,16.3,14.6,2.2,11.7,16.4,10.3,1,55,14.3,27.9,15.5,8,2.3,20.8,11.3,31,7.3,38.4,26,25,0.5,14.2,3.7,5.3,20.1,11,0.2,6.4,1.7,9.7,12.7,24.4,1.7,18.4,13.9,33.9,0.6,2.5,0.5,0.9,24.8,14.8,1,0.2,2,1.6,4.1,8.7,2.5,6,19.8,"NA",2.2,0.3,2.2,3.4,2.3,8.8,4.5,1.3,4.3,2.9,3,28.3,8.7,9.1,16.8,17.2,0.1,4.5,15.6,3.3,"NA",22,2.8,7,15.2,4.7,0.8,6.3,7.7,1.5,2.3,7.8,3.7,0.5,10.6,8,11.1,0.4,0.1,5.2,0.2,6.9,1.1,6.2,"NA",0.4,0.8,0.4,5.9,2.5,"NA",4.4,2.6,15,4.3,2.3,"NA",7.1,10.6,7.6,"NA",7.2,11.3,2.9,1.5,0.5,"NA",8.2,47.5,8.5,14.1,0.8,0.6,23.3,28.4,38.1,4.8,4.4,2.9,17.8,11.6,36.1,1.1,"NA",2.3,10.6,9.3,6,2.3,1.6,7.1,0.1,0.9,0.3,3.1,23.5,3.7,2.2,2.8,14.5,3.9,36.6,6.6,22.7,9,0.1,4.2,11.4,0.8,3.7,2.6,0.2,42,1,9,17.8,22.4,1.6,23.4,16.4,75.3,4.7,7.9,12.4,3.4,25.5,25.7,26.1,0.1,4.8,8.7,25.1,14.6,3.5,7.7,8.8,1.6,7.1,55.4,9,13.4,11.8,10.6,6.5,18.5,7.7,18.8,19.5,23.1,11.4,20.2,8,24.1,1.4,7.1,13.6,3.1,1.6,9.9,15.5,4.8,13.7,1.3,6.6,27.1,8.6,40.8,0.8,11.7,9.6,9.8,8.3,22.3,1,0.8,8.3,2.6,1.5,7.7,6,12.6,39.4,1.4,11.3,0.3,2.2,7.7,7.9,18.1,0.5,2.8,2.6,27.1,5.3,21.6,17.5,0.1,41.3,19.9,4.6,2.3,12.2,1.6,9.3,10.9,2.1,13.8,12.8,"NA",1.5,14.8,7,2.1,42.3,11.8,8,8.3,2.9,11.5,8.5,20.9,3.3,5.6,0.3,0.4,35.3,15.2,13.6,0.3,0.7,"NA",9.4,17.4,"NA",11.6,1,8.5,2.4,5.3,"NA",12.6,22.5,"NA",0.7,12.8,0.1,1,1.9,"NA",0.8,13.6,15.6,12.2,7.5,0.9,0.2,14.3,5.6,3.5,7.4,4.2,2.3,27.7,9.6,12.9,3.5,3.6,6.9,11.4,9.8,4.7,0.6,8.7,3.8,67.2,5.4,0.6,2.2,5.5,3.6,6.4,1.6,9,1,21.3,1.4,24.9,16.6,1.1,0.3,19.1,4.7,1.5,1.6,3.3,0.4,22.1,0.4,9.1,15.8,1.4,1.5,13.2,18,4.3,19.1,14.2,5.9,7.2,52.6,39.2,74.5,0.9,10.1,0.9,11.9,4.7,4.8,36,6.7,6.6,2.9,3.3,19.8,36.1,11.9,19.1,23,10.6,5.7,11.8,13.4,22.1,23,0.1,9,26.5,2.7,6.2,21,1.6,4.7,10.1,4.2,29.2,14.1,0.7,2.8,16.8,15.1,66.1,16.9,10.2,5.6,25.5,7.7,24.4,26.6,6.2,3.1,1.2,13.6,4,6.1,14.2,4.1,3.3,6.8,0.3,12.7,16.3,16.5,23.3,23.3,5.4,19.4,0.1,18.9,21.4,8.9,44.5,20.6,6,5.3,36.9,2.4,1.7,30.2,4.3,9.6,11.3,0.8,0.7,15.3,18.7,76.8,5.7,11.2,8.3,1.1,20.3,29.6,0.7,0.6,5.6,1,3.5,0.7,4.8,77.8,1.6,1.9,0.5,11.9,10.2,0.1,10,8.5,0.7,5.6,15.5,0.1,20.4,10.1,"NA",1.2,11.3,0.9,8,3.7,0.4,0.5,25.5,7.3,16,10.2,"NA",0.9,27.6,25.6,64,4,7.9,3.5,9.3,31.6,21.8,5.9,1.1,3.4,1.1,16.7,8.5,24.1,13.2,4.3,0.4,3.3,0.1,20.3,2.6,7.5,30.8,10.9,3.5,16.2,3.4,42.2,22.9,17.4,3.7,1.5,19,9.4,7.5,16.2,0.1,0.9,69.4,2.3,7.8,6.6,16.6,"NA",20.5,20.4,89.4,5.4,10.6,12.2,9.8,51.1,26.5,29.9,1,6,11.2,13.8,12.4,8.6,16.9,18.5,3.2,5.1,"NA",20.6,17.9,11.5,40.9,51.1,2.8,8.1,53.4,32.9,53.2,4.4,15.5,4.9,28.5,0.6,52.6,32.7,2.8,2.4,20.5,8.3,7.1,16.6,5.9,3.6,22.4,17.4,83.3,47.4,13.1,21.3,27.2,31.3,41.9,6.7,5.1,5.3,9.2,31.2,5.2,6.7,10,13,0.7,3.2,0.8,4.5,10.4,9.4,5.8,0.4,4.6,10.7,16.1,1.3,20.8,18.5,9.8,1.3,38.4,0.5,15.2,28.3,7.9,0.2,22.7,7.9,1.5,13.4,0.3,1.3,24.8,17.8,64.9,8,14.7,8.8,1.7,7.8,12.9,1.3,0.1,5.1,"NA",5.8,0.2,71,2.3,"NA",1.3,4.4,1.1,2.5,2,"NA",9.9,0.1,4.6,14.5,"NA",23.6,6.5,"NA",0.1,12.8,0.8,3.2,3.2,"NA",1.8,24.6,9.9,19.7,11.5,12.5,6.9,20.7,18.6,39,15.4,8.3,15.2,7.1,33.8,17.6,66.8,0.7,2.7,2.9,16.4,8.2,45.6,7.1,10,2.7,2.3,29.1,11.5,11.3,10.2,23,1.4,12.8,8.8,11.6,3.5,23.3,18.3,4.9,4.3,18.3,0.9,10.7,20.5,0.4,4.5,26.7,1.5,39.7,10.9,1.5,11.1,25.6,18.2,61.8,4.3,27.3,15,17.8,15,20.1,18.5,"NA",4.5,0.2,9.7,7.8,38,5.9,1.8,1,0.9,0.3,24.8,21,7.1,5.6,0.4,2.1,4.6,18.4,6.1,53.5,14,2,1.3,18.6,2.3,10.7,22.1,12.3,2.3,3.4,0.1,22.7,6,"NA",2.9,14.2,3.4,60.8,0.8,8.9,0.5,1.9,8.1,2.6,7,1.2,1.5,0.5,0.5,"NA",50.9,3.4,0.1,2.9,"NA",2.9,7.1,"NA",3.6,0.6,10.4,3.9,11.5,0.1,17.3,6.8,17.2,0.8,10.6,0.1,7,1.9,0.1,"NA",18,"NA",15.3,4.7,0.1,2.1,15.2,20.2,10.9,8.2,12.5,24.6,34.1,10.9,4.7,0.2,1.1,2.1,11.5,2.9,36.8,1.5,5.6,1,0.8,0.4,2.6,5.5,1.7,12,3.9,1.7,2.7,5.8,31.4,7.8,7.7,"NA",0.5,7.9,"NA",1.8,27.3,"NA",1.1,29.1,"NA",15.6,11.4,1.1,1.4,19.9,22.5,63.5,2.6,15.6,12,29.4,24.8,4,14.4,2.5,4.8,1.6,14.5,3.7,41.8,8.8,2.1,0.8,5.6,32.9,7.8,17.9,15.9,10.4,8,2.5,12.3,28.9,7,15.5,13.6,"NA",0.7,8.3,"NA",10.1,22.8,"NA",7.1,43.2,"NA",12.9,11.1,"NA",0.9,21.7,12.9,65.2,8.9,9.8,4.1,0.9,30.3,8.8,2.9,"NA",1.8,1.2,5.4,1.6,1.5,7.9,11.6,"NA",2.1,"NA",7.2,14,0.5,12.4,1.1,4.6,3.9,4.2,1.4,25.4,6.5,"NA","NA",13.6,20.2,4.3,0.6,"NA",1.1,30.3,5.9,19.6,5.7,"NA",3.5,11.9,14.4,52.2,10.7,12.9,5.4,0.7,2.8,16.9,8.5,2.6,1.1,3.6,"NA",0.6,3.8,5.6,"NA","NA",1.5,0.1,3.9,7.3,14.4,"NA",10.7,11.6,10.1,"NA",5.2,13.8,0.9,"NA",1,2.4,3.4,"NA","NA",1.2,45,"NA",23,11.5,"NA",0.7,22.8,13.7,65.3,1.9,3.1,7.3,1.3,21.2,4,3.6,"NA",9,44.3,2.7,"NA",11.3,6.2,"NA","NA",5.3,"NA",3.9,3.5,0.7,41.4,2.1,8.3,5.1,43.8,12.6,10.3,3.4,25.8,"NA",6.3,19.1,3.9,17.8,0.9,"NA"],"Disesases":["NA",0.1,1.5,3,1.8,"NA",0.8,3.3,1.6,12.5,0.7,0.2,4.6,1.1,2.5,4.3,"NA",0.4,2.1,1.1,"NA",0.1,2.2,0.6,0.1,30.4,"NA",0.5,0.1,"NA",1,0.5,0.4,1.9,0.2,0.3,"NA",5,0.1,"NA",2.3,0.3,2.2,2.7,"NA","NA","NA",0.5,7,7.8,4.6,1.9,2.7,2.9,0.3,6.5,0.2,7,2.9,0.9,5.3,0.2,0.1,0.2,0.2,0.6,1.4,0.3,3.1,0.8,"NA",0.3,15.5,4.5,0.3,0.1,3,"NA",13.2,2.6,0.5,1.8,1.8,2.5,1.5,0.1,1.8,2.2,0.6,1,0.8,"NA","NA",5.4,0.9,12.5,2.7,0.4,6.7,3.6,0.1,1.7,0.6,4.8,0.1,0.2,1.2,"NA",13.2,2.9,0.4,7.3,7.4,"NA",3,10.7,10.9,0.1,55,5.7,0.7,8.1,0.6,0.1,5.2,3.7,18.3,2,0.5,1.3,41.6,"NA",1.3,2.3,1,8.3,6.4,"NA",0.2,1.1,0.1,6.2,21.2,0.5,2.5,5.3,0.2,4.3,0.3,6.3,0.6,0.2,0.4,"NA","NA",0.1,6.2,"NA",8.4,0.3,3.3,14.4,0.2,"NA",0.2,0.8,0.5,1.8,2,0.1,1.5,1,0.4,1.9,"NA",2.7,6.4,0.9,0.4,0.1,1.3,2.5,6.6,"NA",4.3,"NA","NA",9,0.6,0.2,0.5,2.1,"NA",2.1,0.4,0.9,"NA",0.1,0.6,13.9,0.3,"NA",0.7,"NA",0.1,"NA",0.3,"NA",0.1,0.2,31.5,1.5,1.9,"NA",0.2,0.1,5.3,0.3,0.6,"NA",0.2,2.5,0.1,0.3,"NA",1.4,1.1,1,0.2,"NA",0.3,17.2,5.5,11.2,3.3,0.5,10,2,"NA",2.7,2,"NA",18.7,2.8,1.7,"NA",4.3,2.4,0.3,1.1,6.5,1.2,0.7,4.5,1,0.2,12.1,0.9,4.7,2.1,0.6,0.2,9.9,2.4,1,1.7,0.1,7.5,1.8,6.8,3.3,4.2,12.8,1.2,"NA","NA",0.9,0.4,8.5,16.8,"NA",2.7,2.4,0.1,4.5,0.7,1.2,0.8,14.1,0.9,"NA",0.2,0.1,6.8,0.3,6.2,1.6,1,7,0.1,1.2,55.2,5.5,0.1,6.3,2.3,0.3,12.5,1.6,0.1,14.2,1.3,1.7,0.6,1.7,1.1,0.9,3.6,10.8,0.5,0.5,0.2,2.3,"NA",8,0.1,1.1,7.7,3.7,"NA",4.8,1.2,0.2,8.9,0.3,3.3,1,0.1,4.5,0.4,0.1,3.1,0.1,0.2,32.9,0.2,0.4,7.2,3.6,1.8,1.5,0.8,"NA",13,1,23.3,0.3,"NA",3.2,0.2,41.2,2,3.7,1.1,10,3.1,9.3,0.2,3.8,"NA",7.6,"NA","NA",1.5,0.2,0.2,42.3,0.6,5.2,8.4,"NA",0.4,0.1,30.5,1,2.9,"NA",0.1,"NA",0.5,"NA",0.4,0.3,87.4,9.8,0.2,"NA",0.6,"NA",10.1,0.8,0.4,"NA",0.9,2,0.1,2.1,2.8,"NA",0.2,1.1,0.2,6.6,"NA",19.4,2.4,2.9,5.3,"NA",6.1,1,"NA",3.9,0.7,0.1,7.6,0.7,1.1,"NA",3.4,0.7,11.8,0.2,2.4,"NA",3,4.2,0.7,2.3,72.9,2.2,2.3,2.8,6.2,11.1,10.2,0.8,14.7,1.3,1,1.5,0.2,0.3,1,3.6,1.7,1.7,11.6,0.3,"NA",0.5,"NA",5.6,2.6,0.1,3.7,2.3,0.3,6.7,2.8,0.4,2.4,14.8,4.6,0.3,0.9,0.7,0.7,8.6,1.8,0.7,2.8,6.9,0.4,"NA",17.8,6.2,3.3,3.4,4.7,10,11.3,2.7,0.2,5,2.1,0.1,0.5,4.7,1.5,2,1.4,18.5,9.3,2.3,8.8,2.3,26.6,7.4,0.2,"NA",7.5,12.3,0.1,17.7,0.8,1.7,12.3,3.3,0.5,0.3,0.4,0.2,6.7,5.3,4.2,1.4,1,3.1,4.1,4.4,"NA",8,3.9,0.2,7.1,28,1,14.6,4.1,0.2,7.1,11,22.1,1.3,"NA",2.4,33.1,8.4,3,1.9,4.6,1,4.8,3.8,"NA",4.5,0.9,0.2,0.8,3.6,3,0.3,1,0.9,0.2,0.2,4.4,0.8,0.7,1.9,"NA",0.3,"NA","NA","NA",1.4,0.3,1.2,6.5,3.2,1.2,3.3,0.7,"NA",2.3,4.8,0.1,0.3,0.3,1,2,1.2,0.1,0.2,1.2,33.2,0.9,11.2,13.1,0.4,9.7,13.9,0.5,3.2,6.7,0.4,0.9,1.3,0.6,0.2,0.2,0.8,1,11,6.7,"NA",0.8,2.8,0.4,"NA",0.3,15.4,0.5,4.8,1.7,9.6,8.1,2.2,0.7,7.7,3,7.9,2,0.7,3.2,7.6,0.9,17.8,2.4,1,0.7,4.5,0.1,4.5,5.6,"NA",4.2,2.4,0.1,14.6,2.1,1.4,8.5,6.6,1.6,0.2,1.1,0.3,10.7,1.1,6,"NA",1.2,18,5.9,0.2,"NA",18.6,11.4,9.6,2.6,0.1,7,1.9,0.7,3.3,0.7,0.4,0.1,4.3,2.6,0.6,0.3,2.6,2.2,1.3,1.3,3.1,"NA",9.8,1,2.3,9,9.2,"NA",9.6,2.4,23.8,8.9,26,1.2,0.3,"NA",0.3,8.1,15.6,4.2,0.2,1.1,5.6,0.7,0.1,3.7,7.8,3.8,8.1,0.1,"NA",16,6.7,0.3,7,1.9,5.5,5.5,"NA",12.1,11.7,0.6,1.5,2.6,0.2,1.8,6.5,3.3,6.4,"NA","NA",5.5,7.4,0.1,8,3.1,2.6,0.6,2.5,0.1,0.1,"NA",0.2,"NA",1.5,1.9,64.8,1.9,"NA",32,"NA",0.6,1.7,0.2,"NA",11.1,0.2,3.7,"NA","NA",5.1,5.3,0.1,2.4,0.8,0.6,1.1,0.7,0.1,0.3,2.9,2.7,6.8,8.7,4.8,2.4,6.3,1.6,0.3,21.7,0.7,3,5.8,21.8,0.4,0.4,0.1,"NA",0.2,8.7,4,2.4,0.4,10.6,1.8,0.3,0.9,1.2,19.7,14.7,4.2,0.1,19.8,1.8,0.6,0.3,0.2,4.4,5.5,0.7,0.9,2.5,0.7,13.9,3.3,4.2,0.6,0.4,1.4,5.2,"NA",2.4,7.8,5.6,0.2,5.4,1.1,2.6,5.6,11.9,0.2,3.5,0.1,1.8,0.8,9.2,1.2,4.1,0.2,"NA","NA","NA",0.4,3,4.5,1.8,0.4,"NA",4.7,1,1.7,3.2,"NA",4.6,2,0.6,0.4,0.6,1.1,14.8,3.2,0.3,"NA",0.1,0.2,5,0.1,0.4,5.5,0.2,0.1,0.1,0.2,0.1,"NA",7.8,2,0.7,0.7,0.1,1.8,0.2,"NA",0.3,0.9,0.1,0.5,"NA","NA",4.8,"NA",1.1,0.4,10.8,2.8,9.6,"NA",1,1.3,17.1,0.6,0.3,0.1,1.3,0.4,0.1,"NA",1.6,"NA",5.1,3.9,0.1,"NA",3.2,7.1,11.1,1,1.8,16.5,24,0.2,0.5,6.9,0.1,0.3,2.2,0.7,"NA",5.7,5.9,4.4,22.1,0.3,0.6,1.9,2.6,6.2,0.4,7.5,1.4,0.5,4.8,0.2,3.3,0.3,0.1,0.3,0.7,0.7,25,0.1,0.7,"NA",1.9,3.9,7.3,"NA","NA",12.8,3.5,"NA",6.7,1.8,1.7,3.9,15.6,1.4,4.7,0.7,"NA",1.5,3.4,"NA","NA","NA",0.9,3.3,"NA","NA",6.3,"NA",12.3,0.8,0.9,3.8,1.2,"NA",2.1,2.3,2,"NA",0.9,"NA","NA",4.7,12.9,0.7,"NA",15.4,"NA",1.7,7.1,"NA",0.1,10.4,1.8,"NA",4.3,1.1,"NA",2.6,1.2,"NA","NA",0.5,1.5,"NA",5.3,1,"NA","NA",11.6,0.5,0.5,1,"NA","NA",5.1,0.9,"NA",3.7,1.3,"NA",6.5,"NA","NA","NA",0.5,1.6,22.9,"NA","NA","NA","NA","NA",5.9,"NA",1.7,"NA","NA",5.6,8.9,"NA","NA",1.6,"NA","NA","NA","NA","NA","NA","NA",1,"NA","NA","NA","NA","NA","NA",1,"NA",0.6,"NA",2.9,"NA",1.4,"NA","NA","NA",1.4,1.6,"NA",3.7,"NA",1,0.7,"NA","NA",4.1,0.5,3.6,5.9,7.7,"NA",0.1,4.3,5.2,"NA",5.4,1.1,0.6,0.6,7.2,1,"NA","NA","NA","NA",0.8,"NA",3.2,1.3,1.5,"NA","NA",0.1,0.5,"NA","NA",7.3,"NA",6.2,1.3,2.3,3.7,"NA","NA",10.4,"NA",3.6,18.4,1.1,1.1,"NA","NA"],"Pesticides":[2.2,"NA",3.4,7.5,0.6,"NA",8.9,2.6,"NA",4.8,0.4,0.3,3.4,14.2,2.5,1.7,"NA","NA",2.8,1.6,0.1,2.1,4.2,0.8,0.5,11.1,0.2,4.4,22.9,"NA",3,"NA",0.6,1.9,0.3,0.5,"NA",11.1,4.4,"NA","NA",3.6,2.1,8.5,"NA",0.1,2.3,20.1,22.6,23,2.8,0.8,17.7,28.7,0.1,6,2.5,0.5,7.8,0.1,1.8,1.1,34.5,2.5,61.8,9.1,16.5,0.1,1.6,5.3,1.4,26.1,5.9,4.4,3.5,4.3,11.9,0.1,16,1.6,1.4,2,9.8,6.6,12.3,"NA",0.2,2,2.7,8.2,3.6,"NA",2.6,17.3,5,19.6,16.5,1.5,22.9,21.2,0.1,10,0.4,8.2,4.7,14.1,6.5,1.6,"NA",22.8,2.1,13.7,27.4,1.1,2,2.3,13.2,"NA",58,17.1,7.5,12.3,23.4,0.1,3.1,5.1,14.7,7.1,4.8,19.4,33.6,"NA",3.7,1.4,1.5,20.9,3.4,0.4,0.2,3.5,8.2,11.7,19.7,1.1,6.8,4.5,"NA",4,0.9,0.1,6.4,25.1,9.8,0.6,"NA","NA",1.9,4.1,25,"NA",0.1,11.4,0.3,0.4,8.4,0.9,0.4,1.5,7.3,0.1,1.5,0.3,1.7,7.1,4.6,5.4,0.2,0.6,"NA",0.3,3,21.9,10.5,"NA",8.1,7.7,0.5,12.6,0.3,"NA",5.4,21.3,0.1,5.9,2.9,0.3,2.1,1.2,5.6,0.3,"NA",11,"NA",0.5,11.3,2,5.4,0.6,0.2,0.4,"NA",7.6,2.7,"NA",1.3,0.6,"NA",3.8,2.1,"NA",3.7,10.2,0.4,"NA",0.4,1.7,0.6,12.2,3.3,"NA",1.7,12,0.1,14.2,1.4,0.3,11.6,28.4,0.6,3.1,3.1,2.1,0.6,8.3,28.4,0.3,31.1,2.9,10.6,16.5,18.2,2.7,0.1,3.9,3.8,"NA",2.5,11.7,33.8,1.1,18.3,1.2,2.6,3.6,35.8,5.1,0.4,2.4,7.3,6,3.1,"NA",12.6,0.6,0.8,3.8,13.5,7.9,18.8,24.6,0.2,9.9,12.1,0.8,7.6,4.3,0.6,16.7,29.1,11.5,1.6,"NA",0.7,0.1,9.1,22.4,1.8,0.1,6.9,10.2,8.5,24.1,5.2,2.9,12.9,2.9,0.7,9.6,4.3,2.6,22.7,2.4,31.4,21.8,"NA",2.3,19.1,0.1,15.8,2.6,"NA",2.4,6.5,1.3,9.1,3.1,1,17,7.6,0.1,0.2,5.6,1.4,9,3.1,3,0.1,"NA",4.6,0.4,2.7,17.6,"NA","NA",13.7,1.2,1.9,"NA",12.5,"NA",0.4,4.2,0.1,2.8,2.8,24.6,6,1.1,3.6,0.9,41,"NA",9.1,1.1,10.6,5.2,9.6,3.6,1.7,0.3,9.2,0.9,"NA",14.2,2.6,"NA",21.2,4.2,4.1,12,3.6,3.8,2.2,8.1,1,4.5,1.9,1,0.1,2.6,2.3,"NA",0.1,"NA",4.4,1.5,"NA",0.1,0.1,9.1,2.9,1.1,"NA",2.4,5.1,"NA",0.2,3.2,"NA","NA",2,"NA",2.6,4.2,12.2,4.9,12.4,3.2,0.5,9,6.7,"NA",8.2,2.9,32.1,26.7,22.2,5,2.1,3.6,0.2,9.9,1.7,13.3,1.3,1,3.3,66.6,1.9,"NA",2.1,0.8,5.4,10.5,0.3,3.6,1.4,17.9,9.7,3.1,12.5,0.1,"NA",5.3,6.7,0.4,2.1,2.6,"NA",35.4,1.1,17,13.4,9.1,"NA",6.3,14.1,"NA",15.5,2.8,3.9,3.9,20.3,0.6,1.6,3.9,1.6,2.3,13.7,9.4,0.2,34,2.2,7.1,0.8,13.6,9.4,20.3,8.1,6.7,3.8,13.2,3.7,3,10.1,6,24,16.7,"NA",0.5,1.2,0.6,21.8,4.4,6.7,9.5,1.6,31,17,20,0.6,10.4,15.3,"NA",14.9,7.9,0.7,32.6,8.6,6.5,0.6,"NA",1.1,2.7,23.6,39.8,1.5,0.1,5.9,2.1,4.4,10.3,5.4,1.5,0.5,6.4,14.2,6.9,0.2,4.4,2,2.9,9.2,55.2,7.5,0.3,0.1,22.8,5.9,2.2,14.9,15.3,23,11.5,0.5,0.8,9.2,14.8,"NA",3.4,3.5,0.5,0.6,4.3,11,0.7,"NA",1.5,0.8,7.4,0.6,0.6,3.5,2.8,0.4,1.3,1.9,0.3,"NA",3.2,0.1,6.7,9.3,2.6,"NA",3,0.2,"NA",0.6,3.9,1.9,3.4,1.5,"NA","NA",13.1,0.8,2.8,13.8,3.7,0.8,15.6,14.8,"NA",18,6.6,4.5,7.9,24.9,1.1,0.8,1.8,0.3,1.5,11.6,5.6,0.2,1.5,1.3,3.2,0.1,"NA",6,2.4,4.7,2.7,26.7,6.6,2.1,1.6,4,3.4,4.4,1.7,16.7,1.2,7.6,2.9,26.6,2.3,"NA",14.6,3.8,17.6,17.8,2.9,1.4,7.6,27.7,0.1,26.5,5.1,20.6,0.4,8,1.5,1.7,"NA",0.6,10.1,23.8,28.4,0.5,1.2,6.8,6.5,0.1,12.3,24.4,8.4,10.4,1.3,23.5,45.1,1.6,32.4,8.5,13.2,6.2,0.2,24.1,7.7,2.7,0.3,19.5,9,2.9,1.5,"NA",73.5,11.6,"NA",0.9,14.1,6.9,"NA",15.9,2.8,64.6,31.6,43.7,6.8,5.9,"NA",1.2,9.4,15.1,7.9,0.5,2.3,17.5,0.3,"NA",0.1,2.4,2,10.6,8.1,"NA",14.8,13,1.4,1.6,11.4,3,8,"NA",13.1,4.9,7.2,24.5,6.8,5.4,0.3,16.2,55.3,12.3,"NA","NA",22.9,9.6,0.7,9.2,0.7,5.5,0.3,12.2,5.3,0.3,"NA","NA",4.3,0.2,"NA",48.4,0.5,0.8,0.8,"NA","NA",1.7,0.7,6.5,1.1,0.2,4,1.7,2.5,0.9,8.3,"NA","NA",0.3,0.3,0.2,1.1,"NA","NA",0.2,11.4,50.5,16,10.2,"NA",18.2,25.8,"NA",9.9,2.5,23.1,26.3,23.9,5.2,57,"NA",0.3,"NA",7.3,13.4,25.4,0.8,6.1,2.8,0.2,"NA",8.2,4,9,1.8,0.1,15.1,5,16.2,14,9.1,11.5,0.2,"NA",1.3,4.6,2.7,18.1,2.2,7.7,4.9,23.3,7.8,11.3,15.3,"NA",11.7,9.1,1,10.5,3.4,6.7,25.2,43.4,5.3,0.7,2.5,"NA","NA",8.3,6.1,13.9,0.1,0.8,3.5,"NA","NA",8.7,2.4,3.7,0.6,0.4,1.8,3.2,3.5,5.6,33.6,4.9,10.3,0.8,"NA",19.6,0.4,14.1,"NA",0.3,0.1,"NA",2.6,5.3,0.4,"NA",5.3,0.3,"NA",2.8,"NA",2.9,0.2,7.8,0.3,1.2,"NA","NA",0.3,0.2,0.2,1.8,1.6,"NA",0.1,"NA","NA",0.6,"NA",0.1,0.5,14.5,1.8,0.3,2.1,"NA",3.4,2.3,0.9,0.3,0.5,0.6,"NA","NA","NA",7.7,4.2,24.6,5.4,"NA","NA",5.5,3,8.6,8.3,20.2,0.8,32.8,1.2,0.1,"NA",1.1,0.4,6,8.8,0.9,3.1,"NA",10.9,0.1,0.4,0.2,"NA",3,5.8,0.9,2.2,0.3,"NA",0.4,6.8,4.6,13.1,"NA",0.4,1,0.5,25.1,1.1,"NA",12,1.7,13.9,6.3,"NA","NA",14.8,3.4,"NA",10.9,4.9,24.5,6.3,34.1,1.6,0.8,"NA","NA",0.8,8.9,8.2,"NA",1.1,"NA",19.8,16.3,"NA",3.3,"NA",4.1,3.7,1.7,0.5,1.6,6.2,64.9,0.5,6.7,31.6,3.8,"NA",10.5,4.7,26.1,5.9,6.3,2,4.5,12.8,4.8,"NA","NA",19.6,7.5,"NA",4.8,2.9,1.9,"NA",33.3,"NA","NA","NA",0.7,"NA",3.1,19.2,0.6,0.5,2.6,"NA",0.6,"NA","NA",5.1,11.5,6.4,"NA",1.6,1.9,1.3,4.5,5.1,5,6.8,"NA",2,2.6,1,7.4,2.4,"NA","NA","NA",14.2,7.2,"NA",0.5,6.6,1.5,"NA",9.5,1.3,0.7,3.7,"NA","NA",1.6,"NA","NA",0.5,"NA",2.5,1,0.8,"NA",1.5,1.3,"NA",0.5,"NA",2,"NA","NA","NA",3.2,"NA",0.8,6,2.4,"NA",1.9,"NA",2.6,"NA","NA","NA",2.1,1.2,2.9,16.1,"NA","NA",10.2,2.8,"NA",9.9,2.5,7,"NA",8.5,2.2,"NA","NA",0.7,44,3.5,12.6,0.5,0.6,13.3,7.4,2.6,2.5,1.7,"NA","NA",3.3,"NA",10.1,2.7,"NA",4.2,2.4,11.5,18.7,"NA",2.1,1.2,"NA",22.3,6.9,4.8],"Other":[9.1,1.8,1,6.5,2.6,21.2,5.1,4.8,2,8.9,12.6,22.3,18,9.5,22.7,3.1,7.5,24.2,7.6,8.3,1.6,1.2,11.8,2.3,0.3,19.5,1.3,12.4,6.2,2.5,17.8,2.1,1.6,17.8,3.6,1.2,13,2.3,3,5.8,9.8,6,14.6,8.3,0.7,0.9,3.2,28.2,27.4,14.2,3.4,1,13.6,11.5,3.2,13.7,2.3,4.4,2.7,3.5,9.5,5,0.5,1.6,4.4,16.4,10.1,2.3,1,1.6,2.1,1,0.4,3.3,5.8,4.6,11.2,7,5.8,6.7,3.7,1.4,2.6,7.4,5.6,1.3,3,3.2,4.6,15.2,8.3,0.1,2.2,7.6,1.8,15,3.7,7.8,21.9,8.9,2.5,2.2,3.4,1,5.6,14.8,9,3,2.6,7.1,2.5,1.8,7,3.8,2.1,6.4,4.6,1.1,55.5,8.8,5.7,4.1,1.6,0.6,4.8,7.2,3.9,1.9,2.2,4.7,3.6,0.4,3.5,3.8,3,12.6,2,0.7,2.8,0.5,8.5,10.5,8.4,3.4,3,3.7,"NA",2.8,1,0.6,24.8,33.9,7.2,2.4,0.1,0.2,2.6,3.2,3.8,0.7,0.8,3.2,0.4,0.4,0.6,0.4,5.4,3.7,14.5,1.3,1.7,0.8,5.8,2.4,7.1,2.2,4.4,0.4,5.8,3,8.2,6.6,11.3,"NA",2.4,6.5,1.9,8.4,3,7.7,1.9,3.1,0.8,5.5,5,7.2,34.4,2.6,11.1,9.9,0.8,7.8,3.1,1.2,7.1,0.2,4,0.2,0.8,1.2,1.5,9.5,4,"NA",10.2,2.4,2.4,5.5,5.1,0.4,10.1,4,1.9,0.5,5,1.7,6.9,8.8,1,13.3,4.8,17.4,3.4,15.3,2.6,4.4,10.1,11.7,3.2,5.4,4.7,2.8,6,3.7,16,1.2,2.4,3.3,2.3,11.8,8.6,1.2,1.6,6.9,1.1,0.2,8.2,4.1,8.3,3.6,2.9,0.6,16.7,4.6,14.3,15.4,9.1,7.4,3.4,7.3,11.1,14.7,14.9,2.5,0.6,3.2,13.4,2.7,10.4,10.6,5,8.5,7.6,"NA",6,2.9,2.5,2.4,4.5,7.4,9.6,0.6,0.6,3.4,6.5,17.8,5,3.1,6.1,1.6,1.3,1.7,24.7,13.4,9.9,3.6,1.4,5.1,2.8,2.6,4.6,6.2,3.7,2.5,2.4,5.3,4.3,8.1,5.1,3.4,2.3,6.7,4.3,1.1,9.6,13,5.8,13.6,4.1,0.2,4.2,3.9,1,11.4,5.1,10.3,0.7,5.8,5.8,0.7,4,5,2.1,1.5,33.3,0.4,3.4,0.8,2.2,12.5,2.6,11.2,0.1,2.6,4.9,25.9,1,2.2,2.8,0.7,0.4,1.8,4.5,4.3,10.6,1.1,2.3,7.5,6.5,3.6,6.6,2.6,6.1,6.2,4.4,0.1,1.7,10.2,10.4,11.9,16.4,16,5.2,26.3,11.9,10.5,1.1,8.8,0.5,5.4,5.6,2.2,0.8,2,13.2,7.2,0.2,5.2,0.5,15.4,3.6,2.7,0.2,8.1,3.5,2,0.9,7.4,8.1,11.9,4,0.6,1.8,9.4,20.1,3.4,4.7,4.7,2,6.4,6.3,0.4,7.7,5.5,8.6,8.2,1.8,4.8,1.6,1.6,2,0.4,1,6.6,2.9,5.1,4.4,8.9,0.3,35.6,9.1,5.1,3,16.8,7.6,14.8,2.4,4.1,6.2,10.4,2.9,10.9,0.2,1.9,3.1,3.6,2.5,7.4,4,7.5,12.4,9.3,10.1,7.8,13,11.4,15.1,2,9.5,4.6,3.8,4,1.1,10.3,4,1.2,5.1,0.8,15,11.6,18.1,1.6,19.1,9.2,0.4,3.1,13.6,7.6,8.1,11.7,4.7,6.4,2.2,5.2,27,5.3,18.3,15.9,7,4.4,0.7,9.5,13,5.6,1.2,1.7,4.1,24.1,17.1,15.5,1.6,7.6,3.6,0.1,1.7,4.9,3.9,17.9,0.6,5.6,2.1,0.6,1.8,1.5,1.5,7.2,1.5,4.2,5.3,4.3,3.3,10,0.4,11.7,0.9,8.4,3.9,2.9,1.9,7.5,7.5,3.8,9.4,5.7,6.9,0.4,7.8,15.3,8.1,1,8.6,7.9,4.6,8,13.7,7.7,5.5,27.1,0.1,3.4,10.4,9.9,0.6,27.9,8,4.5,5.2,14.3,9.3,12,1.1,2.4,26.5,1.7,3.8,9.4,8,13.4,0.9,15.8,3.1,3.7,5.9,13.5,0.5,13.2,1.7,0.1,2,7.7,0.4,20.8,3.6,2.1,2,11.5,14.5,11.4,9.1,4.3,0.8,10.1,31.6,0.2,4,9.9,1.3,8.4,2.1,3.7,1.2,0.6,4.4,2,12.9,7.8,5.1,8.3,1,7.5,3.4,0.2,17.3,14.6,3.9,21.7,12.4,15.5,1.6,9.8,39.4,6.2,8.3,1.4,1.8,23.3,7.1,13.6,29.1,2.9,3.9,7.8,15,0.5,12,8.5,2.5,14.3,6,0.1,13.8,1.5,5,1.9,23.7,4.5,1,3.5,1.1,1.1,19.5,9.3,7.5,7.5,21.8,4.3,1,0.4,22.9,11.4,10.9,11.9,17.2,10.7,1.7,7.6,45,5.6,2.8,1,0.3,11.6,9.9,6.8,6.1,3.3,4.9,3.4,7.1,5.3,9.3,6.1,4.2,8,5.6,0.1,7,6.9,35.4,29.4,1.6,5.5,1,1.2,4.9,3.4,2.4,3.8,3,1.9,2.9,2.9,5.4,8,7.8,11.1,4.3,2.4,"NA",0.9,7.8,1.3,2.1,9.1,6.2,6.5,0.8,5.8,3.3,4.2,7.6,1,1.5,3.1,8.4,0.7,8.7,2.5,3.6,7.4,10.6,2.9,8.6,15.5,7.1,7.7,21.6,10.7,1,1.4,10.1,6.3,12.2,2,1.9,5.4,0.8,2.2,3.5,1.4,7.7,2.2,0.4,6.7,2.7,7.5,12.4,0.8,7.7,6.9,0.3,0.2,3.9,0.8,5,13.8,0.5,2.1,9.7,13.2,6.9,11.1,9.4,3.9,11.7,17.1,1.3,18.5,5.5,19.2,27.8,1.2,7.9,2.5,0.2,5.1,0.7,2.1,6.6,4,2.1,4.1,7.2,0.5,0.8,2.5,9.7,23.7,5.9,4.1,16.6,1.5,19.6,4,11.5,7.2,0.6,0.5,2.7,9.4,6.9,6.5,6.3,1.4,9,4,12.5,8,2.6,1.7,7.8,2.6,0.1,9.9,8.9,1.6,19.7,0.4,12,6.1,0.3,0.3,1.1,1.1,1.8,10.5,1.5,2.8,2.8,1.3,2.6,3.2,15.7,2,3.3,0.4,16.6,2.3,13.1,11.2,7.6,5.8,0.2,0.6,5.3,2.9,6.1,22,4.3,32.4,1.7,10.1,0.4,5.3,10.8,2.8,8.7,0.4,0.2,2.1,7.3,1.9,5.7,3.1,7.6,1.4,2.2,8.5,4.5,0.4,4.3,14.5,2.1,0.3,3.2,0.7,1.7,1.4,3.1,3,0.4,1.3,2.7,6.4,0.3,4.1,5.2,15.7,2,3.8,0.2,2.6,2.7,0.8,0.7,7.9,5.5,2.1,7.5,0.5,0.1,5.5,8.1,6.9,11.9,5.4,3.5,28.9,2.9,3.5,0.5,3.2,1.1,3.2,4.4,8.4,11.2,4.6,0.1,22.3,0.4,3.6,1.8,2.9,7.3,18.1,5.9,3.4,5.3,37.5,3.3,5.7,0.1,1.1,7.9,1.3,2.8,25.8,3.5,0.3,5.4,9.3,1.3,8.1,6.3,4,7.9,5.3,0.5,9,6.6,0.7,4.5,2.1,2.4,3.6,4.6,0.6,1.2,5.9,2.2,3.3,2.4,8.6,21.4,"NA",0.5,2.1,"NA",9.3,10.8,2.4,7.1,5.5,1.5,61.4,2.4,1.6,3.7,0.9,4.1,1.3,1.7,13.8,1.8,14.1,2.3,2.3,5.9,4.2,0.9,4.3,2.3,1.9,2.9,4.8,2.7,2.4,1.8,26.4,8.2,2.9,1.2,6.2,"NA",3.6,1.8,7.8,3.1,4.4,1.4,0.2,2,4.5,0.6,1.1,2.5,"NA",3.8,1.8,2.7,"NA",2.1,5.7,0.7,0.6,5.4,4.7,4.5,1.8,2.2,12.5,3.1,0.5,3.8,6.2,1.1,1.6,6.3,4.1,4.7,1.8,17.9,4.8,7.8,19.1,5.1,8.2,2.2,19.7,7.8,0.7,2.8,10.6,13.1,"NA",1.7,1.2,6.5,5.7,0.6,8.2,4.2,1.2,6.8,4.1,"NA",2.6,7.7,1,10.1,3.9,5.3,1.2,3.6,3.3,6.8,5.8,7.1,2.1,11.6,"NA",1.2,6.3,5.2,"NA",2,2.8,7.5,1.3,1.5,4.2,20.3,1.5,2,0.5,0.9,1.1,3.2,5.8,5.2,3.2,1.7,"NA",2.3,"NA",2,7.7,7,6.5,1.2,9.4,49.5,3.1,5.7,"NA",0.5,2.7,4.7,1,1,1.5,5.9],"Unknown":[9.4,3.1,1,2.8,5.9,2.4,4.4,10.5,"NA",4.9,11.6,11.7,3.4,3.4,12.9,2.1,1.9,12.4,4.7,4.6,2.1,1.1,6.3,7.9,3,16.7,0.4,8.3,12.2,0.1,3.1,2.9,1.1,6.3,2.9,1.8,4.4,6.2,0.5,4.9,11.9,1.1,6.1,5.8,"NA","NA",4.1,0.3,9.3,3.1,6.6,0.7,5.4,4.1,0.1,0.3,2.4,2,1.9,4.9,2.9,0.5,0.1,1.5,3.1,3.1,9.3,1.7,7.4,"NA",1.5,2.4,2.7,1.1,3,0.3,29,1.9,0.4,2.1,0.7,1.5,3,3,1.2,0.1,4.5,0.5,4.4,2.3,2.4,"NA",17.7,5.1,1.4,4.7,2.7,"NA",3.4,3.6,"NA",6.4,1,6.2,3.4,1.7,2,0.2,7.8,2,0.3,8.8,7.2,1.4,1.4,5.3,4.3,0.7,0.7,1.5,8.5,3.7,1.7,0.4,3.8,0.8,3,5.7,1,5.2,0.1,"NA",8.9,0.3,1.1,13.5,0.4,0.2,1.9,15.5,0.6,7.3,1.8,2,4.2,1.3,"NA",4.5,3.1,3.7,1.4,19,1.7,0.2,0.4,4.3,1.1,3.7,8.9,1.3,1.5,13.9,1.7,1.2,1.7,6.2,3.4,2.1,2.1,2.5,1.5,1,"NA",4.1,3.6,8,0.4,15.6,10.4,1.5,0.6,21.4,3.9,8,11.3,7.2,8.1,4.3,0.2,1.7,1.5,3.9,"NA",0.3,10.4,5.5,12.2,5.8,7.5,1.5,1.4,0.8,1.1,10.3,14.2,8.8,5.4,0.1,0.4,8.2,0.3,2.6,2.5,9.9,5.3,41.5,0.3,4.6,4.9,0.3,10.9,2.7,0.6,1.7,3.8,5.4,6.5,9.4,1.6,"NA",5.4,3.5,1.6,2.6,0.3,1.2,2,2.7,"NA",2.7,2.1,4.3,5.7,1.8,3.8,0.6,27.9,0.6,11.9,1.1,7.6,0.1,1.2,0.2,3.5,0.3,"NA",3.8,41.7,0.2,1.4,0.4,6,0.9,1.3,0.1,2.6,3.7,0.8,2.9,0.6,0.7,10.5,0.8,5.4,13.8,8.9,0.3,6.9,0.1,0.8,1.8,4.5,"NA",3.3,1.6,1.2,5.6,2.6,4.5,0.7,"NA",1.6,7.9,2.7,8.9,4.7,0.7,1.4,0.1,0.3,0.7,2.6,3,3.1,3.2,21.8,1.5,1.2,1.9,2.8,2,4.1,1.7,0.8,3.6,0.1,0.4,11.1,0.3,9.8,3.3,3.2,3.3,3.5,0.1,3.2,6.5,2.5,0.1,3,4.8,3.8,6.3,1.4,5.7,1.2,0.1,0.6,4.2,0.6,8.9,2.8,0.7,33.1,1.5,8.6,0.3,2.1,1.3,2.2,10.9,0.7,1.3,3.1,1.9,0.3,3.1,1.4,0.3,"NA",5.1,0.3,2.8,46.2,"NA",1.4,10.4,2.1,0.6,6.3,0.4,5.6,17.9,1.8,0.1,0.4,7.9,7.1,11.7,14.3,7.5,2.3,"NA",4.3,5.2,3.9,5.8,1.4,5.3,0.1,1.2,0.6,"NA",10.9,3.9,0.1,16.5,0.3,8.5,7.3,1.8,0.3,7,3.6,0.3,2.1,8.4,4.4,1.3,10.5,"NA",2.5,5.3,0.7,3.1,3,0.1,0.7,18.6,2.8,"NA",4.7,1.4,1.3,0.9,7.8,2.1,0.7,14.2,1,1.6,0.6,2.2,0.5,1.8,0.6,0.5,0.7,0.6,0.1,1.5,0.4,3,0.2,9.6,1.6,0.3,3.6,3.9,1.1,"NA",0.5,4.8,0.4,1.6,0.3,2.1,0.6,3.9,6.3,2.3,3.6,1.4,"NA",21.5,6.9,"NA",5.1,3.3,2,2.2,7.4,6.2,14.9,0.1,9.1,0.1,2.9,2.3,0.7,35,2,0.2,1.9,0.3,1.8,1.8,1.9,7,2,1.8,0.9,0.8,2.5,6.9,1.5,9.1,0.7,1.6,2.4,3.8,12.1,5.2,1.3,5.2,0.1,0.4,6.3,5.3,1.6,26.2,4.6,"NA",0.2,4.9,8,5.5,10.2,19.1,10.4,"NA",7.8,0.3,2,3.1,4.1,1.6,4.1,11.5,"NA",1,2.6,6.7,0.3,2.9,1.8,2.3,1.9,2.7,15.3,5.2,19.8,1.8,3.9,0.2,3.6,15.2,0.6,2.4,4.5,4.2,13.9,4.9,2.4,3.5,16,2.1,0.1,0.4,10.9,3.7,1.4,9.1,5.9,1.6,7.4,3.1,7.2,5.9,1.6,34.4,23.9,0.9,0.8,0.5,6,8,"NA",11.6,2,1,9.9,3,0.1,19.7,10.3,0.5,0.8,16.3,0.4,4.9,3.7,1,1.2,2.1,3.7,16.6,5.1,0.4,0.4,21.1,9.6,0.2,4.1,2.4,1.1,0.3,1.6,6.3,1.3,0.1,0.4,2.1,10,21.7,2.1,2.6,0.8,4,0.1,1,3.6,0.8,4.3,1.6,0.1,0.2,1.9,2.9,"NA",2.5,14.3,1.9,0.1,1.5,0.6,7.9,0.9,4.2,0.3,6.8,27.6,0.6,3.6,4.5,1.2,9.8,7.2,"NA",5.7,7,0.5,0.4,7.9,7.6,1.6,0.5,3.8,10.3,18.6,8.1,7.2,1.1,2.7,4,0.4,0.2,10.2,3.1,1.2,1.2,23.4,0.8,2.6,0.9,1.6,2.1,0.9,0.7,"NA",1.7,2.8,2.1,4.3,4,0.7,7.5,3,2.2,7.1,1.2,2.3,6.7,7.8,"NA",4.5,5.7,2.3,5.6,26.4,4.3,1.7,0.1,1.7,5.3,6.6,2.4,4.5,4.1,"NA",1,0.3,1.2,0.7,5.2,4.6,9.9,0.3,0.2,5.4,5.5,2.5,5.1,3.7,4.9,0.7,2.8,1.3,6.8,5.2,1.4,5.4,9,0.2,2.9,5.6,0.6,1.7,5.5,4.9,"NA","NA",10.1,1.7,3.5,4,4.6,0.7,0.8,2.4,0.9,0.7,0.8,5.5,3.2,1.1,0.1,0.6,0.3,9,3.4,1.3,3.1,0.5,9.5,1,2.2,7.1,3,8.8,1.2,9.3,0.2,1.3,5,2.3,1.6,6.4,0.6,39.3,3.2,1,0.5,10.8,4.6,0.2,0.8,11.5,1.4,3.6,0.5,8.6,2.7,0.1,1.4,7.3,1.5,2.1,5.1,0.6,1,1.9,0.1,"NA",3.8,5.7,9.3,3.9,4.4,0.4,5.6,3.7,1.5,1.5,2.1,4.6,0.1,3.1,0.3,0.3,3.9,2.5,0.1,11.3,2.9,32.8,5,0.8,1.6,4.8,4.4,"NA",1.1,8.9,0.6,4.2,14.4,9.9,0.9,0.2,5,10.7,3.8,4,5.2,0.4,0.3,6.4,0.5,"NA",4,11.7,1.7,7.6,0.1,16,2.9,6.3,1.5,9.1,1.4,0.3,0.9,6,3.2,2.2,7.3,13.2,0.9,4.3,9,11.2,4.2,2.4,3,10.9,7.5,0.2,1.9,10,6.2,5.5,11.3,6.5,0.6,3,2.4,2.2,0.7,0.3,3.6,3.4,0.8,2.3,0.2,7.7,5.1,"NA",13.4,0.3,0.3,3.2,5.4,0.3,7.8,4.6,22.4,3.1,3.5,0.3,0.3,3.1,1.7,0.4,9.5,0.6,12.4,3,2.5,0.6,7.5,13.8,5.8,4,1.5,0.5,14.3,3.2,1.3,"NA",0.5,0.4,1.1,0.4,0.2,1.9,0.3,2.6,0.1,0.1,0.6,1.4,1.5,13.3,5.1,0.7,1.3,0.4,5.3,3,5.8,7.7,"NA",1.1,0.4,1.9,26.1,1.2,0.3,11.7,12.2,8.6,3.6,19.8,"NA",10.9,13,"NA",3.8,8.4,1.3,"NA","NA",5.1,3.4,6.2,2.9,0.7,1,1.7,6.2,2.4,1.2,"NA","NA","NA",1.1,"NA",1.4,1.4,0.8,2.4,2.3,0.9,2,2.2,0.6,3.9,"NA",5.8,0.6,2.6,20.4,0.9,"NA",16.9,18.3,5.7,4,1.5,8.2,7.5,6.7,"NA",5.4,6.9,5.7,1.4,25.9,9,"NA",0.6,2.1,0.9,4.3,2.6,5.9,0.8,6,6.3,0.7,0.9,4.1,1.9,5.5,1.7,0.8,3.9,2.6,3.8,1.8,5.2,9.6,17.6,"NA",2.9,4.4,1.1,1.2,1.4,7.4,4,4.2,2.6,3.4,7.8,1,3.4,4.6,"NA",1.7,9.4,4.5,3.8,2.2,9.3,0.9,2.1,2.7,4.5,1.6,"NA",4.7,10.3,"NA",0.7,0.8,1.9,4.8,0.5,4.9,2,0.6,8.2,0.9,0.8,8.9,"NA",11.2,"NA",4.9,"NA",3.3,3.2,7.9,1.1,26,6.9,3.7,3.8,3.3,"NA",7.7,5.8,"NA",6.2,5.2,1.6,8.2,6.5,2.6,0.9,"NA",1.4,"NA","NA",1,9.9,4.6,3,1.3,1.3,"NA",3.5,"NA","NA",3.4,1,1.8,0.5,5.1,0.8,"NA","NA",1.4,"NA",3.7,"NA",2.2,2,2.4,5]},"columns":[{"accessor":"colony_lost_pct","name":"colony_lost_pct","type":"numeric"},{"accessor":"Varroa mites","name":"Varroa mites","type":"numeric"},{"accessor":"Other pests/parasites","name":"Other pests/parasites","type":"numeric"},{"accessor":"Disesases","name":"Disesases","type":"numeric"},{"accessor":"Pesticides","name":"Pesticides","type":"numeric"},{"accessor":"Other","name":"Other","type":"numeric"},{"accessor":"Unknown","name":"Unknown","type":"numeric"}],"resizable":true,"filterable":true,"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"highlight":true,"striped":true,"compact":true,"nowrap":true,"inline":true,"dataKey":"94c5867606473309a1011914af2f20cb","key":"94c5867606473309a1011914af2f20cb"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>




<h2 id="develop-models">Develop models
  <a href="#develop-models"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Next step is to decide how we’re going to “spend” the data we have. We need to leave some data untouched when fitting and tuning the models in order to get a sense of how our final model will handle brand new data. The <code>train</code> data is used to tune the models and the <code>test</code> data is our holdout set, used <em>only</em> to evaluate the final model.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#c0f">set.seed</span>(<span style="color:#f60">1701</span>)

splits <span style="color:#555">&lt;-</span> 
  rsample<span style="color:#555">::</span><span style="color:#c0f">initial_split</span>(model_data, strata <span style="color:#555">=</span> colony_lost_pct)

train <span style="color:#555">&lt;-</span> 
  <span style="color:#c0f">training</span>(splits)

test <span style="color:#555">&lt;-</span> 
  <span style="color:#c0f">testing</span>(splits)

splits
</code></pre></div><pre><code>## &lt;Analysis/Assess/Total&gt;
## &lt;856/287/1143&gt;
</code></pre>
<p>We’ll need to tune some model hyperparameters, so we create some bootstrap resamples of the <em>training</em> data. We created 25 resamples, so each hyperparameter combination for each model will be fit and evaluated on each of the 25 splits.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">folds <span style="color:#555">&lt;-</span> 
  <span style="color:#c0f">bootstraps</span>(train, strata <span style="color:#555">=</span> colony_lost_pct, times <span style="color:#555">=</span> <span style="color:#f60">25</span>)

folds
</code></pre></div><pre><code>## # Bootstrap sampling using stratification 
## # A tibble: 25 × 2
##    splits            id         
##    &lt;list&gt;            &lt;chr&gt;      
##  1 &lt;split [856/307]&gt; Bootstrap01
##  2 &lt;split [856/310]&gt; Bootstrap02
##  3 &lt;split [856/330]&gt; Bootstrap03
##  4 &lt;split [856/322]&gt; Bootstrap04
##  5 &lt;split [856/310]&gt; Bootstrap05
##  6 &lt;split [856/314]&gt; Bootstrap06
##  7 &lt;split [856/310]&gt; Bootstrap07
##  8 &lt;split [856/316]&gt; Bootstrap08
##  9 &lt;split [856/312]&gt; Bootstrap09
## 10 &lt;split [856/309]&gt; Bootstrap10
## # … with 15 more rows
</code></pre>
<p>Here we so define some pre-processing steps using the <code>recipes</code> package`:</p>
<ul>
<li>median imputation for the missing observations</li>
<li>center/scale all numeric predictors</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">recipe <span style="color:#555">&lt;-</span> 
  <span style="color:#c0f">recipe</span>(colony_lost_pct <span style="color:#555">~</span> ., data <span style="color:#555">=</span> train) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">step_impute_median</span>(<span style="color:#c0f">all_numeric_predictors</span>()) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">step_normalize</span>(<span style="color:#c0f">all_numeric_predictors</span>()) 

recipe
</code></pre></div><pre><code>## Recipe
## 
## Inputs:
## 
##       role #variables
##    outcome          1
##  predictor          6
## 
## Operations:
## 
## Median Imputation for all_numeric_predictors()
## Centering and scaling for all_numeric_predictors()
</code></pre>
<p>Prep the recipe to make sure there are no issues with the pre-processing steps</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#c0f">prep</span>(recipe) <span style="color:#555">%&gt;%</span> 
  <span style="color:#c0f">bake</span>(new_data <span style="color:#555">=</span> <span style="color:#069;font-weight:bold">NULL</span>) 
</code></pre></div><pre><code>## # A tibble: 856 × 7
##    `Varroa mites` `Other pests/parasites` Disesases Pesticides  Other Unknown
##             &lt;dbl&gt;                   &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
##  1          0.440                   2.02     -0.325    -0.340  -0.642  -0.295
##  2          0.492                  -0.355     1.23     -0.236   0.402   0.101
##  3         -1.37                   -0.860    -0.297    -0.340   0.190  -0.465
##  4         -1.52                   -0.860    -0.297    -0.752  -0.703  -0.428
##  5         -1.14                   -0.829    -0.468    -0.675  -0.597   0.667
##  6         -1.51                   -0.738    -0.297    -0.340  -0.567  -0.805
##  7         -1.53                   -0.799    -0.511    -0.708  -0.763  -0.484
##  8         -1.06                   -0.837    -0.283    -0.675  -0.794  -0.692
##  9         -0.468                  -0.477    -0.140     0.0936 -0.536  -0.465
## 10          0.314                  -0.584    -0.525    -0.643  -0.188  -0.729
## # … with 846 more rows, and 1 more variable: colony_lost_pct &lt;dbl&gt;
</code></pre>
<p>Three models are specified and combined with the recipe into a <em>workflowset</em>, which is a certain type of <code>tidymodels</code> object that makes tuning and comparing several models extremely easy.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">lasso_rec <span style="color:#555">&lt;-</span> 
  parsnip<span style="color:#555">::</span><span style="color:#c0f">linear_reg</span>(mixture <span style="color:#555">=</span> <span style="color:#f60">1</span>, 
                      penalty <span style="color:#555">=</span> <span style="color:#c0f">tune</span>()) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">set_engine</span>(<span style="color:#c30">&#34;glmnet&#34;</span>)

cubist_rec <span style="color:#555">&lt;-</span> 
  <span style="color:#c0f">cubist_rules</span>(committees <span style="color:#555">=</span> <span style="color:#c0f">tune</span>(), 
               neighbors <span style="color:#555">=</span> <span style="color:#c0f">tune</span>()) <span style="color:#555">%&gt;%</span> 
  <span style="color:#c0f">set_engine</span>(<span style="color:#c30">&#34;Cubist&#34;</span>)

rf_rec <span style="color:#555">&lt;-</span> 
  parsnip<span style="color:#555">::</span><span style="color:#c0f">rand_forest</span>(mtry <span style="color:#555">=</span> <span style="color:#c0f">tune</span>(),
                       trees <span style="color:#555">=</span> <span style="color:#f60">1000</span>, 
                       min_n <span style="color:#555">=</span> <span style="color:#c0f">tune</span>()) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">set_mode</span>(<span style="color:#c30">&#34;regression&#34;</span>) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">set_engine</span>(<span style="color:#c30">&#34;ranger&#34;</span>)

workflows <span style="color:#555">&lt;-</span> 
  <span style="color:#c0f">workflow_set</span>(
    preproc <span style="color:#555">=</span> <span style="color:#c0f">list</span>(recipe <span style="color:#555">=</span> recipe), 
    models <span style="color:#555">=</span> <span style="color:#c0f">list</span>(lasso <span style="color:#555">=</span> lasso_rec,
                  cubist <span style="color:#555">=</span> cubist_rec,
                  forest <span style="color:#555">=</span> rf_rec),
    cross <span style="color:#555">=</span> <span style="color:#069;font-weight:bold">TRUE</span>)

workflows
</code></pre></div><pre><code>## # A workflow set/tibble: 3 × 4
##   wflow_id      info             option    result    
##   &lt;chr&gt;         &lt;list&gt;           &lt;list&gt;    &lt;list&gt;    
## 1 recipe_lasso  &lt;tibble [1 × 4]&gt; &lt;opts[0]&gt; &lt;list [0]&gt;
## 2 recipe_cubist &lt;tibble [1 × 4]&gt; &lt;opts[0]&gt; &lt;list [0]&gt;
## 3 recipe_forest &lt;tibble [1 × 4]&gt; &lt;opts[0]&gt; &lt;list [0]&gt;
</code></pre>
<p>Here we tune the models via grid search and check the results. We have a grid of size 10, which means each model is fit using 10 different hyperparameter combinations. That, combined with the 25 resamples per model, means we fit 250 models for each of the 3 models specified above for a total of 750 models.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">cl <span style="color:#555">&lt;-</span> 
  <span style="color:#c0f">makeCluster</span>(<span style="color:#f60">10</span>)

doParallel<span style="color:#555">::</span><span style="color:#c0f">registerDoParallel</span>(cl)

grid_ctrl <span style="color:#555">&lt;-</span>
  <span style="color:#c0f">control_grid</span>(
    save_pred <span style="color:#555">=</span> <span style="color:#069;font-weight:bold">TRUE</span>,
    allow_par <span style="color:#555">=</span> <span style="color:#069;font-weight:bold">TRUE</span>,
    parallel_over <span style="color:#555">=</span> <span style="color:#c30">&#34;everything&#34;</span>,
    verbose <span style="color:#555">=</span> <span style="color:#069;font-weight:bold">TRUE</span>
  )

results <span style="color:#555">&lt;-</span> 
  <span style="color:#c0f">workflow_map</span>(fn <span style="color:#555">=</span> <span style="color:#c30">&#34;tune_grid&#34;</span>,
               object <span style="color:#555">=</span> workflows,
               seed <span style="color:#555">=</span> <span style="color:#f60">1837</span>,
               verbose <span style="color:#555">=</span> T,
               control <span style="color:#555">=</span> grid_ctrl,
               grid <span style="color:#555">=</span> <span style="color:#f60">10</span>, 
               resamples <span style="color:#555">=</span> folds,
               metrics <span style="color:#555">=</span> <span style="color:#c0f">metric_set</span>(rmse, mae)
  )

<span style="color:#c0f">stopCluster</span>(cl)
</code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">workflowsets<span style="color:#555">::</span><span style="color:#c0f">rank_results</span>(results, select_best <span style="color:#555">=</span> T, rank_metric <span style="color:#555">=</span> <span style="color:#c30">&#34;rmse&#34;</span>)
</code></pre></div><pre><code>## # A tibble: 6 × 9
##   wflow_id      .config    .metric  mean std_err     n preprocessor model   rank
##   &lt;chr&gt;         &lt;fct&gt;      &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;  &lt;int&gt;
## 1 recipe_forest Preproces… mae      4.79  0.0353    25 recipe       rand_…     1
## 2 recipe_forest Preproces… rmse     6.57  0.0716    25 recipe       rand_…     1
## 3 recipe_lasso  Preproces… mae      4.92  0.0390    25 recipe       linea…     2
## 4 recipe_lasso  Preproces… rmse     6.75  0.0780    25 recipe       linea…     2
## 5 recipe_cubist Preproces… mae      5.04  0.0543    25 recipe       cubis…     3
## 6 recipe_cubist Preproces… rmse     6.94  0.0912    25 recipe       cubis…     3
</code></pre>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#c0f">autoplot</span>(results, select_best <span style="color:#555">=</span> T) <span style="color:#555">+</span>
  <span style="color:#c0f">bg_theme</span>(base_size <span style="color:#555">=</span> <span style="color:#f60">13</span>) <span style="color:#555">+</span> 
  ggsci<span style="color:#555">::</span><span style="color:#c0f">scale_color_npg</span>()
</code></pre></div><img src="https://brendangraham.online/blog/bees/index_files/figure-html/unnamed-chunk-14-1.png" width="864" />




<h2 id="using-vetiver">Using <code>vetiver</code>
  <a href="#using-vetiver"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>From the 
<a href="https://vetiver.tidymodels.org/index.html" target="_blank" rel="noopener">package website:</a></p>
<blockquote>
<p>The goal of vetiver is to provide fluent tooling to version, share, deploy, and monitor a trained model. Functions handle both recording and checking the model’s input data prototype, and predicting from a remote API endpoint. The vetiver package is extensible, with generics that can support many kinds of models.</p>
</blockquote>
<p>This is great because prepping a model for deployment and then managing the deployment/versioning can be a pain. <code>vetiver</code> takes a fitted workflow, so we choose the best model based on the plot above, and “finalize” it by “locking in” the hyperparameter values that of random forest model and fitting that model on training set (in reality though, you would typically tune and compare several models, select the best model, evaluate on the test set, finalize the model, deploy it, and then predict on new data as necessary. We don’t have any new data though, so we’re using the test dataset as our “new data”)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">best_results <span style="color:#555">&lt;-</span> 
  results <span style="color:#555">%&gt;%</span> 
  <span style="color:#c0f">extract_workflow_set_result</span>(<span style="color:#c30">&#34;recipe_forest&#34;</span>) <span style="color:#555">%&gt;%</span> 
  <span style="color:#c0f">select_best</span>(metric <span style="color:#555">=</span> <span style="color:#c30">&#34;rmse&#34;</span>)

best_rf <span style="color:#555">&lt;-</span> 
  parsnip<span style="color:#555">::</span><span style="color:#c0f">rand_forest</span>(mtry <span style="color:#555">=</span> best_results<span style="color:#555">$</span>mtry,
                       trees <span style="color:#555">=</span> <span style="color:#f60">1000</span>, 
                       min_n <span style="color:#555">=</span> best_results<span style="color:#555">$</span>min_n) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">set_mode</span>(<span style="color:#c30">&#34;regression&#34;</span>) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">set_engine</span>(<span style="color:#c30">&#34;ranger&#34;</span>)

best_model <span style="color:#555">&lt;-</span> 
  <span style="color:#c0f">finalize_workflow</span>(x <span style="color:#555">=</span> <span style="color:#c0f">workflow</span>() <span style="color:#555">%&gt;%</span> <span style="color:#c0f">add_recipe</span>(recipe) <span style="color:#555">%&gt;%</span> <span style="color:#c0f">add_model</span>(best_rf), 
                    parameters <span style="color:#555">=</span> best_results) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">fit</span>(train)
</code></pre></div><p>Next we create <code>vetiver</code> object and pin to temp board. The piece of code at the end of this chunk creates a file for us called <code>plumber.R</code> and puts it in the working directory. This file contains the packages and files necessary to deploy the model as an API. But, first we can test it locally in the next step.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">v <span style="color:#555">&lt;-</span> 
  <span style="color:#c0f">vetiver_model</span>(model <span style="color:#555">=</span> best_model, 
                model_name <span style="color:#555">=</span> <span style="color:#c30">&#34;lost-colony-model&#34;</span>)

tmp <span style="color:#555">&lt;-</span> 
  <span style="color:#c0f">tempfile</span>()

model_board <span style="color:#555">&lt;-</span> 
  <span style="color:#c0f">board_temp</span>(versioned <span style="color:#555">=</span> <span style="color:#069;font-weight:bold">TRUE</span>)

model_board <span style="color:#555">%&gt;%</span> 
  <span style="color:#c0f">vetiver_pin_write</span>(v)

model_board

<span style="color:#09f;font-style:italic">#this creates a plumber file with a &#39;predict&#39; endpoint</span>
<span style="color:#c0f">vetiver_write_plumber</span>(board <span style="color:#555">=</span> model_board, 
                      name <span style="color:#555">=</span> <span style="color:#c30">&#34;lost-colony-model&#34;</span>,
                      file <span style="color:#555">=</span> here<span style="color:#555">::</span><span style="color:#c0f">here</span>(<span style="color:#c30">&#34;2022&#34;</span>, <span style="color:#c30">&#34;plumber.R&#34;</span>))
</code></pre></div><p>Following the steps outlined 
<a href="https://github.com/sol-eng/background-jobs/tree/main/plumber-job" target="_blank" rel="noopener">here,</a> we can run the API locally and call the <code>/predict</code> endpoint to apply our model on new data. First create the file called <code>entrypoint.R</code> and follow the instructions to run it as a local job. Paste the URL in <code>vetiver_endpoint()</code> below and retrieve your predictions using the test data!</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">endpoint <span style="color:#555">&lt;-</span> 
  <span style="color:#c0f">vetiver_endpoint</span>(<span style="color:#c30">&#34;http://127.0.0.1:8251/predict&#34;</span>)

endpoint

preds <span style="color:#555">&lt;-</span> 
  <span style="color:#c0f">predict</span>(endpoint, test) <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">cbind</span>(., test)

preds <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">add_table</span>()
</code></pre></div><p>Ideally the points in the scatterplot would fall along, or near, the 45-degree line, so the model performance isn’t great. But we were able to successfully deploy it as an API and retrieve predictions!</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">preds <span style="color:#555">%&gt;%</span>
  <span style="color:#c0f">ggplot</span>(., <span style="color:#c0f">aes</span>(x <span style="color:#555">=</span> colony_lost_pct, y <span style="color:#555">=</span> .pred)) <span style="color:#555">+</span> 
  <span style="color:#c0f">geom_abline</span>(col <span style="color:#555">=</span> bg_red, lty <span style="color:#555">=</span> <span style="color:#f60">2</span>) <span style="color:#555">+</span> 
  <span style="color:#c0f">geom_point</span>(alpha <span style="color:#555">=</span> <span style="color:#f60">0.5</span>, color <span style="color:#555">=</span> bg_green) <span style="color:#555">+</span> 
  <span style="color:#c0f">coord_obs_pred</span>() <span style="color:#555">+</span> 
  <span style="color:#c0f">labs</span>(x <span style="color:#555">=</span> <span style="color:#c30">&#34;observed&#34;</span>, y <span style="color:#555">=</span> <span style="color:#c30">&#34;predicted&#34;</span>, title <span style="color:#555">=</span> <span style="color:#c30">&#34;predicted colony lost pct vs actual&#34;</span>) <span style="color:#555">+</span> 
  <span style="color:#c0f">bg_theme</span>()
</code></pre></div><p><img src="pred_vs_actual.png" alt=""></p>

        
        <details closed class="f6 fw7 input-reset">
  <dl class="f6 lh-copy">
    <dt class="fw7">Posted on:</dt>
    <dd class="fw5 ml0">January 11, 2022</dd>
  </dl>
  <dl class="f6 lh-copy">
    <dt class="fw7">Length:</dt>
    <dd class="fw5 ml0">10 minute read, 1918 words</dd>
  </dl>
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Categories:</dt>
    <dd class="fw5 ml0"> <a href="https://brendangraham.online/categories/tidy-tuesday">tidy tuesday</a>  <a href="https://brendangraham.online/categories/tidymodels">tidymodels</a>  <a href="https://brendangraham.online/categories/plumber">plumber</a>  <a href="https://brendangraham.online/categories/api">api</a>  <a href="https://brendangraham.online/categories/data-science">data science</a> </dd>
  </dl>
  
  
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Tags:</dt>
    <dd class="fw5 ml0"> <a href="https://brendangraham.online/tags/tidy-tuesday">tidy tuesday</a>  <a href="https://brendangraham.online/tags/tidymodels">tidymodels</a>  <a href="https://brendangraham.online/tags/plumber">plumber</a>  <a href="https://brendangraham.online/tags/api">api</a>  <a href="https://brendangraham.online/tags/data-science">data science</a> </dd>
  </dl>
  
  <dl class="f6 lh-copy">
    <dt class="fw7">See Also:</dt>
    
    <dd class="fw5 ml0"><a href="/blog/dogs/">Getting started with topic modeling with dog breed traits</a></dd>
    
    <dd class="fw5 ml0"><a href="/blog/boardgames/">Combining &#39;Traditional&#39; and Text-Based Models to Board Game Ratings</a></dd>
    
    <dd class="fw5 ml0"><a href="/blog/chocolate-ratings/">Comparing Traditional and Text-Based Models to Predict Chocolate Rating</a></dd>
    
  </dl>
</details>

      </section>
      <footer class="post-footer">
        <div class="post-pagination dt w-100 mt4 mb2">
  
  
    <a class="prev dtc pr2 tl v-top fw6"
    href="https://brendangraham.online/blog/chocolate-ratings/">&larr; Comparing Traditional and Text-Based Models to Predict Chocolate Rating</a>
  
  
  
    <a class="next dtc pl2 tr v-top fw6"
    href="https://brendangraham.online/blog/ultra-trail-running/">Comparing Variability in Ultra Trail Running Results Across Countries &rarr;</a>
  
</div>

      </footer>
    </article>
    
      
<div class="post-comments pa0 pa4-l mt4">
  
  <script src="https://utteranc.es/client.js"
          repo="brndngrhm/brendangraham.online"
          issue-term="pathname"
          theme="boxy-light"
          label="comments :crystal_ball:"
          crossorigin="anonymous"
          async
          type="text/javascript">
  </script>
  
</div>

    
  </section>
</main>
<footer class="site-footer pv4 bt b--transparent ph5" role="contentinfo">
  <nav class="db dt-l w-100">
    <p class="site-copyright f7 db dtc-l v-mid w-100 w-33-l tc tl-l pv2 pv0-l mv0 lh-copy">
      &copy; 2022
      <span class="middot-divider"></span>
      Made with <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/hugo-apero/" rel="dct:source">Hugo Apéro</a></span>.
      <br />
      
Based on <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/formspree/blogophonic-hugo" rel="dct:source">Blogophonic</a></span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://formspree.io" property="cc:attributionName" rel="cc:attributionURL">Formspree</a>.
    </p>
    
    <div class="site-social-links db dtc-l v-mid w-100 w-33-l tc pv2 pv0-l mv0">
      <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/brndngrhm" title="github" target="_blank" rel="noopener">
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://twitter.com/brndngrhm" title="twitter" target="_blank" rel="noopener">
      <i class="fab fa-twitter fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.linkedin.com/in/brndngrhm/" title="linkedin" target="_blank" rel="noopener">
      <i class="fab fa-linkedin fa-lg fa-fw"></i>
    </a>
  
</div>

    </div>
    
    <div class="site-links f6 db dtc-l v-mid w-100 w-67-l tc tr-l pv2 pv0-l mv0">
      
      <a class="dib pv1 ph2 link" href="/license/" title="License">License</a>
      
      <a class="dib pv1 ph2 link" href="/contact/" title="Contact form">Contact</a>
      
    </div>
  </nav>
  
    <script>

    var i, text, code, codes = document.getElementsByTagName('code');
    for (let i = 0; i < codes.length;) {
      code = codes[i];
      if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
        text = code.textContent;
        if (/^\$[^$]/.test(text) && /[^$]\$$/.test(text)) {
          text = text.replace(/^\$/, '\\(').replace(/\$$/, '\\)');
          code.textContent = text;
        }
        if (/^\\\((.|\s)+\\\)$/.test(text) ||
            /^\\\[(.|\s)+\\\]$/.test(text) ||
            /^\$(.|\s)+\$$/.test(text) ||
            /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
          code.outerHTML = code.innerHTML;  
          continue;
        }
      }
      i++;
    }
</script>

  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>



    
  
  
</footer>

      </div>
    </body>
</html>
